# 17편 | 웹 정보와 사용자 상호작용

---

Claude Code는 웹에서 정보를 검색하고, 사용자와 대화하며 작업을 진행할 수 있다. 이 편에서는 웹 정보를 활용하는 2가지 도구와 사용자와 상호작용하는 2가지 도구를 살펴본다.

## 1. 도구 개요

### 1-1 4가지 도구

| 도구 | 기능 | 사용 시점 |
|------|------|----------|
| **WebSearch** | 웹 검색 | 최신 정보가 필요할 때 |
| **WebFetch** | 웹 페이지 가져오기 | 특정 URL 내용 분석 시 |
| **AskUserQuestion** | 사용자에게 질문 | 선택이나 확인이 필요할 때 |
| **TodoWrite** | 작업 목록 관리 | 복잡한 작업 진행 시 |

### 1-2 분류

**웹 정보 도구:**
- WebSearch: 검색엔진처럼 웹 전체에서 검색
- WebFetch: 특정 URL의 내용을 가져와서 분석

**사용자 상호작용 도구:**
- AskUserQuestion: 사용자에게 선택지를 제시하고 답변 받기
- TodoWrite: 작업 목록을 만들어 진행 상황 공유

## 2. WebSearch - 웹 검색

### 2-1 기본 사용

WebSearch는 웹에서 정보를 검색한다. Claude Code의 학습 데이터 이후의 최신 정보가 필요할 때 사용한다.

```
사용자: React 19의 새로운 기능이 뭐야?
Claude: [WebSearch 도구로 검색]
        React 19에서 추가된 주요 기능:
        - Server Components 개선
        - Actions API
        - ...

        Sources:
        - [React 19 Release Notes](https://react.dev/...)
```

### 2-2 도메인 필터링

특정 사이트에서만 검색하거나, 특정 사이트를 제외할 수 있다.

**특정 도메인만 검색:**
```
사용자: 공식 문서에서만 Next.js 배포 방법 찾아줘
Claude: [WebSearch - allowed_domains: ["nextjs.org", "vercel.com"]]
```

**특정 도메인 제외:**
```
사용자: 블로그 말고 공식 문서에서 찾아줘
Claude: [WebSearch - blocked_domains: ["medium.com", "dev.to"]]
```

### 2-3 출처 표기 필수

WebSearch 결과를 사용할 때는 반드시 출처를 표기한다.

```
검색 결과를 바탕으로 답변한 후...

Sources:
- [문서 제목 1](https://example.com/1)
- [문서 제목 2](https://example.com/2)
```

### 2-4 제한사항

- 현재 미국에서만 사용 가능
- 실시간 정보는 검색 시점 기준
- 검색 결과가 항상 최신이 아닐 수 있음

## 3. WebFetch - 웹 페이지 가져오기

### 3-1 기본 사용

WebFetch는 특정 URL의 내용을 가져와서 분석한다. 이미 URL을 알고 있을 때 사용한다.

```
사용자: 이 페이지 내용 요약해줘 https://docs.example.com/api
Claude: [WebFetch 도구로 페이지 가져오기]
        이 API 문서의 주요 내용:
        - 인증 방식: Bearer 토큰
        - 주요 엔드포인트: /users, /posts
        - ...
```

### 3-2 URL과 프롬프트

WebFetch는 URL과 함께 프롬프트를 전달한다. 프롬프트는 "이 페이지에서 무엇을 찾을지"를 지정한다.

```
URL: https://docs.stripe.com/api
프롬프트: "결제 API의 인증 방법을 찾아줘"

→ 페이지 전체를 분석하지 않고, 인증 관련 내용만 추출
```

### 3-3 리다이렉트 처리

URL이 다른 주소로 리다이렉트되면, Claude Code가 새 URL을 알려준다.

```
사용자: https://old-docs.com/api 내용 봐줘
Claude: 이 URL은 https://new-docs.com/api 로 리다이렉트됩니다.
        새 URL로 다시 요청하겠습니다.
        [WebFetch로 새 URL 가져오기]
```

### 3-4 콘텐츠 처리

- HTML은 마크다운으로 변환되어 분석
- 너무 긴 페이지는 요약될 수 있음
- 15분 캐시로 같은 URL 재요청 시 빠른 응답
- 동적으로 로드되는 콘텐츠는 가져오지 못할 수 있음

## 4. AskUserQuestion - 사용자에게 질문

### 4-1 기본 사용

AskUserQuestion은 사용자에게 질문하고 답변을 받는다. 여러 방법 중 선택이 필요하거나, 확인이 필요할 때 사용한다.

```
사용자: 인증 기능 추가해줘

Claude: [AskUserQuestion 도구]
        "어떤 인증 방식을 사용할까요?"

        선택지:
        A) 이메일/비밀번호 (권장)
        B) OAuth (Google, GitHub)
        C) 매직 링크

사용자: A 선택

Claude: 이메일/비밀번호 인증으로 진행하겠습니다.
```

### 4-2 선택지 제시

선택지는 2~4개까지 제시할 수 있다. 각 선택지에는 설명을 추가할 수 있다.

```
질문: "데이터베이스를 어떤 것으로 할까요?"

선택지:
A) PostgreSQL (권장) - 관계형, 복잡한 쿼리에 적합
B) MongoDB - 문서형, 유연한 스키마
C) SQLite - 경량, 로컬 개발에 적합
```

사용자는 항상 "기타"를 선택해서 직접 입력할 수도 있다.

### 4-3 다중 선택

여러 개를 동시에 선택할 수 있는 질문도 가능하다.

```
질문: "어떤 기능을 추가할까요? (복수 선택 가능)"

선택지:
□ 다크 모드
□ 알림 기능
□ 내보내기 기능
□ 검색 기능
```

### 4-4 언제 사용하는가

- 구현 방법이 여러 가지일 때
- 사용자 의도가 불명확할 때
- 중요한 결정 전 확인이 필요할 때
- 삭제나 덮어쓰기 같은 위험한 작업 전

### 4-5 주의사항

- 사용자가 응답할 때까지 Claude Code가 대기함
- 너무 자주 질문하면 작업 흐름이 끊길 수 있음
- 간단한 작업에는 질문 없이 진행하는 것이 효율적
- CLAUDE.md에 기본 선호도를 설정하면 질문 빈도를 줄일 수 있음

## 5. TodoWrite - 작업 목록 관리

### 5-1 기본 사용

TodoWrite는 작업 목록을 만들고 관리한다. 복잡한 작업을 단계별로 나누어 진행 상황을 보여준다.

```
사용자: 로그인 기능 만들어줘

Claude: [TodoWrite로 작업 목록 생성]

        □ 로그인 페이지 UI 작성
        □ 로그인 API 구현
        □ 세션 관리 추가
        □ 에러 처리 추가
        □ 테스트 작성

        첫 번째 작업을 시작합니다...

        [작업 진행 중...]

        ✓ 로그인 페이지 UI 작성
        ▶ 로그인 API 구현 (진행 중)
        □ 세션 관리 추가
        □ 에러 처리 추가
        □ 테스트 작성
```

### 5-2 작업 상태

| 상태 | 의미 | 표시 |
|------|------|------|
| pending | 대기 중 | □ |
| in_progress | 진행 중 | ▶ |
| completed | 완료 | ✓ |

**규칙:**
- 한 번에 하나의 작업만 "진행 중" 상태
- 작업 완료 즉시 상태 업데이트
- 불필요해진 작업은 목록에서 제거

### 5-3 언제 사용하는가

**사용하면 좋은 경우:**
- 3단계 이상의 복잡한 작업
- 여러 파일을 수정하는 작업
- 시간이 오래 걸리는 작업
- 사용자가 진행 상황을 알고 싶을 때

**사용하지 않아도 되는 경우:**
- 단순한 질문 응답
- 한 파일만 수정하는 간단한 작업
- 즉시 완료되는 작업

### 5-4 활용 예시

```
사용자: 빌드 오류 10개 수정해줘

Claude: [TodoWrite로 오류 목록 생성]

        □ TypeError in auth.js:45
        □ Missing import in utils.js:12
        □ Undefined variable in api.js:78
        ... (10개 항목)

        하나씩 수정하겠습니다.

        [수정 진행...]

        ✓ TypeError in auth.js:45
        ✓ Missing import in utils.js:12
        ▶ Undefined variable in api.js:78 (진행 중)
        ...
```

## 6. 실전 활용

### 6-1 문서 조사 후 확인 요청

```
사용자: 최신 Tailwind CSS 설치 방법 알려줘

Claude:
1. [WebSearch로 최신 정보 검색]

2. [WebFetch로 공식 문서 확인]

3. 두 가지 방법이 있습니다:
   [AskUserQuestion]
   "어떤 방법으로 설치할까요?"
   A) npm 설치 (권장)
   B) CDN 사용

4. 사용자 선택 후 진행
```

### 6-2 복잡한 작업 계획 수립

```
사용자: 결제 시스템 구현해줘

Claude:
1. [AskUserQuestion]
   "어떤 PG사를 사용할까요?"
   A) 토스페이먼츠 (권장)
   B) 아임포트
   C) 스트라이프

2. 사용자: A 선택

3. [WebFetch로 토스페이먼츠 문서 확인]

4. [TodoWrite로 작업 목록 생성]
   □ SDK 설치 및 설정
   □ 결제 요청 API 구현
   □ 결제 완료 웹훅 처리
   □ 환불 API 구현
   □ 테스트

5. 순서대로 진행하며 상태 업데이트
```

### 6-3 기술 트렌드 조사

```
사용자: 2025년 프론트엔드 트렌드 알려줘

Claude:
1. [WebSearch로 최신 트렌드 검색]

2. 검색 결과 분석 및 정리

3. 답변:
   2025년 프론트엔드 주요 트렌드:
   - Server Components 확산
   - AI 통합 개발 도구
   - ...

   Sources:
   - [State of JS 2024](https://...)
   - [Frontend Trends 2025](https://...)
```

## 7. 정리

### 도구별 역할

| 도구 | 언제 사용 | 예시 |
|------|----------|------|
| WebSearch | 최신 정보 검색 | 라이브러리 버전, 트렌드 |
| WebFetch | 특정 페이지 분석 | API 문서, 가이드 |
| AskUserQuestion | 선택/확인 필요 | 구현 방법, 설정 선택 |
| TodoWrite | 복잡한 작업 관리 | 다단계 구현, 버그 수정 |

### 조합 패턴

| 상황 | 사용 도구 조합 |
|------|---------------|
| 최신 기술 적용 | WebSearch → WebFetch → AskUserQuestion |
| 대규모 리팩토링 | AskUserQuestion → TodoWrite |
| API 연동 | WebFetch → TodoWrite |
| 기술 조사 | WebSearch → 정리 |

---

**작성일: 2025-12-20 / 수정일: 2025-12-22 / 글자수: 약 4,600자 / 작성자: Claude / 프롬프터: 써니**


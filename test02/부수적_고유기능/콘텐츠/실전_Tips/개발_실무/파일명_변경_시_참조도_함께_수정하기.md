# 파일명 변경 시 참조도 함께 수정하기

## ⚠️ 핵심 원칙

> **파일명/폴더명 변경은 되도록이면 하지 말 것.**
> 정말 필요하다면 **매우 신중하게** 진행할 것.

파일명을 바꾸면 참조하는 곳이 예상보다 훨씬 많습니다.
HTML, CSS, JavaScript, JSON, Markdown, 데이터베이스까지 모두 수정해야 합니다.
**하나라도 놓치면 에러가 발생합니다.**

---

> 파일이나 폴더 이름을 바꿨는데 사이트에서 에러가 난다면, 코드 안의 참조를 수정하지 않았기 때문입니다.

---

## 왜 에러가 나는가

| 단계 | 상황 |
|------|------|
| 1 | 파일명을 `logo.png` → `company-logo.png`로 변경 |
| 2 | HTML 코드는 여전히 `<img src="logo.png">` |
| 3 | 브라우저가 `logo.png`를 찾음 |
| 4 | 파일이 없음 → **이미지 안 보임!** |

파일명만 바꾸면 코드는 옛날 이름을 계속 찾습니다.

---

## 어디서 파일을 참조하나

| 파일 유형 | 참조 방식 | 예시 |
|----------|----------|------|
| HTML | src, href 속성 | `<script src="app.js">` |
| HTML | 이미지 경로 | `<img src="images/logo.png">` |
| CSS | url() | `background: url(bg.jpg)` |
| JavaScript | import | `import Header from './header.js'` |
| JavaScript | fetch | `fetch('/api/data.json')` |
| JavaScript | 설정 객체 | `const MANUAL_PATH = 'manual.md'` |
| JSON 설정 | 경로 값 | `"path": "S5_개발_마무리"` |
| Markdown | 링크/이미지 | `[링크](./docs/guide.md)` |
| SQL | 데이터 값 | `phase_name = '개발 마무리'` |

---

## 흔한 에러 메시지

| 에러 | 의미 |
|------|------|
| `404 Not Found` | 파일을 찾을 수 없음 |
| `Module not found` | JS 모듈 경로가 잘못됨 |
| `Failed to load resource` | 리소스 로딩 실패 |
| 이미지 깨짐 (X 표시) | 이미지 경로가 잘못됨 |

---

## 올바른 요청 방법

### 핵심 문구

```
"파일명 바꾸고 참조하는 곳도 다 수정해줘"
```

### 상황별 요청 예시

**이미지 파일 변경:**
```
"logo.png를 company-logo.png로 바꾸고,
 사용하는 곳도 다 수정해줘"
```

**폴더 이름 변경:**
```
"images 폴더를 assets로 바꾸고,
 경로 참조도 다 바꿔줘"
```

**JavaScript 파일 변경:**
```
"header.js를 navigation.js로 바꾸고,
 import하는 파일도 수정해줘"
```

**CSS 파일 변경:**
```
"style.css를 main.css로 바꾸고,
 HTML에서 연결한 것도 수정해줘"
```

---

## 추가로 붙여야 할 키워드

| 키워드 | 용도 |
|--------|------|
| "참조하는 곳도" | 전체 참조 수정 |
| "사용하는 곳도" | 사용처 모두 수정 |
| "연결된 코드도" | 연결된 파일 수정 |
| "import하는 곳도" | JS 모듈 참조 수정 |
| "경로도" | 경로 참조 수정 |

---

## 비교: 잘못된 요청 vs 올바른 요청

| 잘못된 요청 | 올바른 요청 |
|------------|------------|
| "파일명 바꿔줘" | "파일명 바꾸고 **참조도 수정해줘**" |
| "폴더 이름 변경해줘" | "폴더 이름 바꾸고 **경로도 바꿔줘**" |
| "header.js 이름 수정" | "header.js 이름 바꾸고 **import도 수정해줘**" |

---

## 실제 발생한 사례 (2025-12-24)

### 사례 1: 폴더명 변경 (`ssal-grid` → `sal-grid`)

| 수정 필요했던 곳 | 설명 |
|-----------------|------|
| HTML 사이드바 | `<span>ssal-grid</span>` |
| JavaScript 설정 객체 | `SIDEBAR_STRUCTURE` 내 경로 |
| JavaScript 함수 호출 | `loadProcessStage('ssal_grid', ...)` |
| Supabase DB | `phase_name` 컬럼 값 |
| Markdown 문서 | 폴더 경로 언급하는 곳 |

### 사례 2: 파일명 불일치 (`PROJECT_SSAL_GRID_MANUAL.md` vs `PROJECT_SAL_GRID_MANUAL.md`)

```javascript
// manual.html에서
const MANUAL_PATH = 'PROJECT_SSAL_GRID_MANUAL.md';  // ❌ 잘못된 이름
const MANUAL_PATH = 'PROJECT_SAL_GRID_MANUAL.md';   // ✅ 실제 파일명
```

→ 페이지에서 "매뉴얼 로드 실패" 에러 발생

### 사례 3: 중복 파일 혼동 (`Production/index.html` vs `Production/Frontend/index.html`)

- 두 파일이 비슷한 위치에 존재
- 잘못된 파일을 수정하여 배포에 반영 안 됨
- **교훈**: 중복 파일은 삭제하거나 명확히 구분

---

## ⚠️ 중요 경고

> **Claude Code도 참조를 놓칠 수 있습니다!**

| 상황 | 결과 |
|------|------|
| 파일명 변경 요청만 함 | 참조 수정 안 됨 |
| "참조도 수정해줘" 요청 | 일부 놓칠 수 있음 |
| 배포 후 테스트 안 함 | 문제 발견 못 함 |

**결론:**
- Claude Code를 100% 신뢰하지 말 것
- 반드시 배포 후 직접 테스트할 것
- 문제 발견 시 "전체 검색해서 참조 다 찾아줘" 요청

---

## 전체 검색 명령어

파일명 변경 전, 참조하는 곳을 먼저 검색:

```bash
# 프로젝트 전체에서 검색
grep -r "파일명" . --include="*.html" --include="*.js" --include="*.css" --include="*.md"

# node_modules 제외하고 검색
grep -r "파일명" . --exclude-dir=node_modules

# 파일 목록만 보기
grep -rl "파일명" .
```

---

## 예방 팁

1. **직접 이름 바꾸지 않기**
   - 탐색기/Finder에서 직접 바꾸면 코드 수정 누락 위험
   - Claude Code에게 맡겨도 **놓치는 경우가 있음** (100% 신뢰 금지)
   - **반드시 "참조도 다 수정해줘"라고 명시적으로 요청**

2. **변경 전 전체 검색하기**
   - `grep -r "파일명" .` 으로 참조하는 곳 확인
   - 예상보다 많은 곳에서 참조할 수 있음

3. **변경 후 확인하기**
   - "이 파일을 참조하는 곳이 있어?" 물어보기
   - 사이트 새로고침해서 에러 확인
   - **배포 환경에서도 테스트** (로컬과 다를 수 있음)

4. **에러 발생 시**
   - "파일을 못 찾는다고 에러가 나. 참조 확인해줘"

5. **중복 파일 정리**
   - 같은 이름의 파일이 여러 위치에 있으면 혼란 발생
   - 불필요한 중복 파일은 삭제

---

## 한 줄 요약

```
파일명 변경은 되도록 하지 말 것!
정말 필요하면 → "전체 검색해서 참조 다 찾고, 배포 후 반드시 테스트"
```

---

*작성일: 2025-12-22*
*수정일: 2025-12-24 (실제 사례 추가)*

{
  "task_id": "S3E1",
  "task_name": "AI API 키 설정",
  "stage": "S3",
  "area": "E",
  "execution_type": "Human-Assisted",
  "status": "PO_ACTION_REQUIRED",
  "created_at": "2025-12-18",

  "ai_completed_work": {
    "description": "AI 클라이언트 코드 구현 완료",
    "files_created": [
      "Production/api/Backend_Infrastructure/ai/gemini-client.js",
      "Production/api/Backend_Infrastructure/ai/chatgpt-client.js",
      "Production/api/Backend_Infrastructure/ai/perplexity-client.js",
      "Production/api/Backend_Infrastructure/ai/index.js (수정)"
    ]
  },

  "po_required_actions": {
    "summary": "3개 AI 서비스의 API 키를 발급받고 Vercel 환경 변수에 등록해주세요.",

    "step_1_gemini": {
      "title": "Google Gemini API 키 발급",
      "url": "https://aistudio.google.com/",
      "steps": [
        "1. Google 계정으로 로그인",
        "2. 좌측 메뉴에서 'Get API Key' 클릭",
        "3. 'Create API key' 클릭",
        "4. 프로젝트 선택 또는 새 프로젝트 생성",
        "5. 생성된 API 키 복사 (AIzaSy... 형식)"
      ],
      "env_variable": "GEMINI_API_KEY"
    },

    "step_2_openai": {
      "title": "OpenAI ChatGPT API 키 발급",
      "url": "https://platform.openai.com/api-keys",
      "steps": [
        "1. OpenAI 계정으로 로그인",
        "2. API Keys 메뉴 클릭",
        "3. 'Create new secret key' 클릭",
        "4. 키 이름 입력 (예: SSALWorks-Production)",
        "5. 생성된 API 키 복사 (sk-proj-... 형식)",
        "※ 주의: 키는 한 번만 표시되므로 즉시 복사하세요!"
      ],
      "env_variable": "OPENAI_API_KEY"
    },

    "step_3_perplexity": {
      "title": "Perplexity API 키 발급",
      "url": "https://www.perplexity.ai/settings/api",
      "steps": [
        "1. Perplexity 계정으로 로그인",
        "2. Settings > API 메뉴 이동",
        "3. 'Generate' 클릭하여 새 API 키 생성",
        "4. 생성된 API 키 복사 (pplx-... 형식)"
      ],
      "env_variable": "PERPLEXITY_API_KEY"
    },

    "step_4_vercel": {
      "title": "Vercel 환경 변수 등록",
      "url": "https://vercel.com/[프로젝트]/settings/environment-variables",
      "steps": [
        "1. Vercel Dashboard에서 프로젝트 선택",
        "2. Settings > Environment Variables 이동",
        "3. 다음 3개 변수 추가:",
        "   - GEMINI_API_KEY = [발급받은 키]",
        "   - OPENAI_API_KEY = [발급받은 키]",
        "   - PERPLEXITY_API_KEY = [발급받은 키]",
        "4. Environment: Production, Preview, Development 모두 선택",
        "5. Save 클릭",
        "6. 프로젝트 재배포 (Deployments > 최신 배포 > Redeploy)"
      ]
    }
  },

  "verification_after_setup": {
    "test_method": "각 AI 서비스가 정상 작동하는지 테스트",
    "test_endpoint": "POST /api/ai/qa",
    "test_body": {
      "question": "테스트 질문입니다.",
      "provider": "[gemini/chatgpt/perplexity 중 하나]"
    },
    "expected_result": "각 provider별로 AI 응답이 정상적으로 반환되어야 함"
  },

  "notes": [
    "API 키는 절대 코드에 직접 입력하지 마세요",
    "각 서비스 콘솔에서 사용량 모니터링 권장",
    "OpenAI는 유료 서비스이므로 사용량 제한 설정 권장",
    "Gemini는 무료 티어 사용 가능 (일일 한도 있음)",
    "Perplexity는 요금제에 따라 API 접근 제한이 있을 수 있음"
  ]
}

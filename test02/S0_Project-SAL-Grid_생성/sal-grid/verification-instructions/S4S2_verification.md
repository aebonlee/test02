# S4S2: Viewer 접근 보안 구현 - 검증 지침

## 검증 정보
- **Task ID**: S4S2
- **Task Name**: Viewer 접근 보안 구현
- **Verification Agent**: security-auditor

## 검증 항목

### 1. RLS 정책 검증
- [ ] `projects` 테이블 RLS 활성화 확인
- [ ] `project_sal_grid` 테이블 RLS 활성화 확인
- [ ] user_id 기반 접근 제어 정상 작동
- [ ] project_id 기반 접근 제어 정상 작동

### 2. 접근 제어 테스트
- [ ] 비로그인 사용자: SSAL Works 예시만 접근 가능
- [ ] 로그인 사용자: 자신의 프로젝트만 접근 가능
- [ ] 관리자: 모든 프로젝트 접근 가능

### 3. 프론트엔드 보안
- [ ] JWT 토큰 검증 로직 존재
- [ ] 비로그인 시 "진행중인 프로젝트" 버튼 숨김
- [ ] 로그인 시 사용자 project_name 표시

### 4. API 보안
- [ ] Viewer API에 인증 미들웨어 적용
- [ ] 프로젝트 소유권 검증 로직 존재
- [ ] 인증 실패 시 적절한 에러 응답

### 5. SQL 파일 검증
- [ ] `rls_viewer_policy.sql` 파일 존재
- [ ] SQL 문법 오류 없음
- [ ] 정책명 명확

## 통과 기준

1. RLS 정책이 정상 적용되어 데이터 접근 제어 작동
2. 비로그인/로그인/관리자 접근 권한 구분 정상
3. 프론트엔드에서 로그인 상태에 따른 UI 분기 정상
4. API에서 인증/인가 검증 정상

---

## 필수 참조 규칙

| 규칙 파일 | 내용 | 참조 시점 |
|----------|------|----------|
| `.claude/rules/06_verification.md` | 검증 기준 | 핵심 참조 |
| `.claude/CAUTION.md` | RLS 정책 주의사항 | 보안 검증 시 |

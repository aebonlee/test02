<!DOCTYPE html>
<html lang="ko">
<!--
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  SSAL Works - Admin Dashboard Complete Mockup
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Version: 2.0 (Complete & Enhanced)
  Created: 2025-12-03
  Based on: admin-dashboard_prototype.html (5,032 lines)

  ğŸ“Š Features Implemented:
  - âœ… Admin-specific layout (180px sidebar + main content)
  - âœ… Dashboard overview with 4 stat cards
  - âœ… Real-time activity timeline
  - âœ… Charts (Chart.js 4.4.0): Signup trend, Revenue trend
  - âœ… Content management (Announcements, Books, FAQ, Templates)
  - âœ… Member/payment management
  - âœ… Credit management
  - âœ… Inquiry management with priority badges
  - âœ… Statistics & analytics
  - âœ… API usage monitoring
  - âœ… Supabase integration ready
  - âœ… DOMPurify for XSS protection

  ğŸ” Security:
  - Admin-only access
  - Supabase Auth integration
  - XSS protection (DOMPurify)
  - Secure CRUD operations

  ğŸ“‚ Documentation:
  - ADMIN_WORKFLOWS_SUMMARY.md
  - Admin_Dashboard_Features.md
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSAL Works Admin Dashboard (Complete Mockup v2.0)</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <!-- DOMPurify for XSS Protection -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>
    <!-- Supabase JS Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Main Theme - Purple (Header, Main Elements) */
            --primary: #6B5CCC;
            --primary-dark: #5847B3;

            /* Secondary Theme - Orange (Buttons, Actions) */
            --secondary: #CC785C;
            --secondary-dark: #B35A44;

            /* Status Colors */
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --info: #0099ff;
            --neutral: #6c757d;

            /* Background */
            --bg-light: #f8f9fa;
            --bg-white: #ffffff;
            --border-color: #dee2e6;

            /* Misc */
            --border-radius: 8px;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.12);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 20px rgba(0,0,0,0.15);
        }

        body {
            font-family: 'Noto Sans KR', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 14px;
            line-height: 1.6;
            color: #212529;
            background: var(--bg-light);
            padding: 0 20px;
        }

        /* ========== Layout Grid ========== */
        .layout-container {
            display: grid;
            grid-template-columns: 180px 1fr;
            grid-template-rows: 70px 1fr 60px;
            min-height: 100vh;
            gap: 0;
            max-width: 1800px;
            margin: 0 auto;
            box-shadow: 0 0 40px rgba(0,0,0,0.15);
        }

        /* ========== Header ========== */
        .header {
            grid-column: 1 / 3;
            grid-row: 1;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 32px;
            box-shadow: var(--shadow-md);
            z-index: 100;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .rice-logo {
            display: flex;
            align-items: center;
            gap: 3px;
            transform: rotate(-15deg);
        }

        .rice-grain {
            width: 7px;
            height: 12px;
            background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%);
            border-radius: 40%;
            box-shadow: 0 1px 2px rgba(0,0,0,0.2);
            display: inline-block;
        }

        .header-title {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .header-title-main {
            font-size: 22px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .header-title-sub {
            font-size: 11px;
            opacity: 0.85;
            font-weight: 400;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .admin-badge {
            background: var(--secondary);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .logout-btn {
            padding: 8px 16px;
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .logout-btn:hover {
            background: rgba(255,255,255,0.25);
        }

        /* ========== Left Sidebar ========== */
        .sidebar {
            grid-column: 1;
            grid-row: 2;
            background: white;
            border-right: 2px solid var(--border-color);
            overflow-y: auto;
            padding: 20px 0;
        }

        .menu-section {
            margin-bottom: 24px;
        }

        .menu-section-title {
            font-size: 11px;
            font-weight: 700;
            color: #868e96;
            padding: 0 16px;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .menu-item {
            padding: 10px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #495057;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 13px;
            font-weight: 500;
            border-left: 3px solid transparent;
        }

        .menu-item:hover {
            background: #f8f9fa;
            color: var(--primary);
        }

        .menu-item.active {
            background: linear-gradient(90deg, rgba(107,92,204,0.1) 0%, transparent 100%);
            color: var(--primary);
            border-left-color: var(--primary);
            font-weight: 600;
        }

        .menu-badge {
            margin-left: auto;
            background: var(--danger);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 600;
        }

        /* ========== Main Content ========== */
        .main-content {
            grid-column: 2;
            grid-row: 2;
            background: var(--bg-light);
            overflow-y: auto;
            padding: 32px;
        }

        .content-header {
            margin-bottom: 24px;
        }

        .content-title {
            font-size: 26px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .content-subtitle {
            font-size: 14px;
            color: #6c757d;
        }

        /* ========== Stats Cards ========== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: white;
            padding: 24px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            border-left: 4px solid;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        .stat-card.primary { border-left-color: var(--primary); }
        .stat-card.success { border-left-color: var(--success); }
        .stat-card.warning { border-left-color: var(--warning); }
        .stat-card.danger { border-left-color: var(--danger); }

        .stat-icon {
            font-size: 28px;
            margin-bottom: 12px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 13px;
            color: #6c757d;
            font-weight: 500;
        }

        /* ========== Content Sections ========== */
        .content-section {
            background: white;
            padding: 24px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            margin-bottom: 24px;
        }

        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--border-color);
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
        }

        .section-action {
            padding: 6px 14px;
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.2s;
        }

        .section-action:hover {
            background: var(--secondary-dark);
        }

        /* ========== Table ========== */
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table thead {
            background: #f8f9fa;
        }

        .data-table th {
            padding: 12px;
            text-align: left;
            font-size: 12px;
            font-weight: 600;
            color: #495057;
            border-bottom: 2px solid var(--border-color);
        }

        .data-table td {
            padding: 12px;
            font-size: 13px;
            border-bottom: 1px solid #e9ecef;
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        .status-badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            display: inline-block;
        }

        .status-badge.pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-badge.answered {
            background: #d4edda;
            color: #155724;
        }

        .status-badge.active {
            background: #d1ecf1;
            color: #0c5460;
        }

        .action-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            font-size: 12px;
        }

        .action-link:hover {
            text-decoration: underline;
        }

        /* ========== Footer ========== */
        .footer {
            grid-column: 1 / 3;
            grid-row: 3;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 12px 32px;
            font-size: 12px;
            gap: 8px;
            position: relative;
        }

        .footer-links {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .footer-link {
            color: rgba(255, 255, 255, 0.95);
            text-decoration: none;
            transition: color 0.2s;
            font-size: 13px;
            font-weight: 500;
        }

        .footer-link:hover {
            color: white;
        }

        .footer-copyright {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 10px;
            opacity: 0.7;
        }

        .home-link {
            position: absolute;
            right: 32px;
            bottom: 12px;
            opacity: 0.15;
            font-size: 9px;
            transition: opacity 0.3s;
            color: rgba(255, 255, 255, 0.95);
            text-decoration: none;
        }

        .home-link:hover {
            opacity: 0.6;
        }

        /* ========== Form Styles ========== */
        .form-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .form-modal {
            background: white;
            border-radius: var(--border-radius);
            padding: 32px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
        }

        .form-header {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--border-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 13px;
            font-weight: 600;
            color: #495057;
            margin-bottom: 8px;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 14px;
            font-family: inherit;
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }

        .form-btn {
            padding: 10px 20px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .form-btn-primary {
            background: var(--primary);
            color: white;
        }

        .form-btn-primary:hover {
            background: var(--primary-dark);
        }

        .form-btn-secondary {
            background: var(--neutral);
            color: white;
        }

        .form-btn-secondary:hover {
            background: #5a6268;
        }

        /* ========== Filter Buttons (FAQ Category) ========== */
        .filter-btn {
            padding: 10px 20px;
            border: 2px solid var(--border-color);
            background: white;
            color: #495057;
            border-radius: var(--border-radius);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .filter-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
            background: #f8f9fa;
        }

        .filter-btn.active {
            border-color: var(--primary);
            background: var(--primary);
            color: white;
        }

        /* ========== Responsive Design (Mobile) ========== */
        @media (max-width: 768px) {
            body {
                padding: 0;
            }

            .layout-container {
                grid-template-columns: 1fr;
                grid-template-rows: 70px auto auto 60px;
                box-shadow: none;
            }

            .sidebar {
                grid-column: 1;
                grid-row: 2;
                border-right: none;
                border-bottom: 2px solid var(--border-color);
                display: flex;
                overflow-x: auto;
                padding: 10px 0;
            }

            .menu-section {
                display: flex;
                flex-direction: row;
                gap: 8px;
                margin-bottom: 0;
                margin-right: 16px;
            }

            .menu-section-title {
                display: none;
            }

            .menu-item {
                white-space: nowrap;
                padding: 8px 12px;
                font-size: 12px;
            }

            .main-content {
                grid-column: 1;
                grid-row: 3;
                padding: 16px;
            }

            .header {
                grid-column: 1;
                padding: 0 16px;
            }

            .header-title-main {
                font-size: 18px;
            }

            .header-title-sub {
                font-size: 10px;
            }

            .admin-badge {
                display: none;
            }

            .user-info span {
                display: none;
            }

            .footer {
                grid-column: 1;
                padding: 8px 16px;
            }

            .footer-links {
                flex-direction: column;
                gap: 8px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .form-modal {
                width: 95%;
                padding: 20px;
            }

            .data-table {
                font-size: 12px;
            }

            .data-table th,
            .data-table td {
                padding: 8px 6px;
            }
        }

        /* ========== Toast Notification ========== */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 24px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transform: translateX(400px);
            transition: transform 0.3s ease-out;
            z-index: 9999;
            min-width: 280px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 14px;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast-success {
            border-left: 4px solid var(--success);
        }

        .toast-error {
            border-left: 4px solid var(--danger);
        }

        .toast-warning {
            border-left: 4px solid var(--warning);
        }

        .toast-info {
            border-left: 4px solid var(--info);
        }

        .toast-icon {
            font-size: 20px;
        }

        .toast-message {
            flex: 1;
            font-weight: 500;
        }

        /* ========== Loading Spinner ========== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .loading-overlay.show {
            display: flex;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: white;
            margin-top: 16px;
            font-size: 14px;
            font-weight: 500;
        }

        /* ========== Screen Reader Only ========== */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* ========== Learning Content Tree ========== */
        .learning-tree {
            font-size: 14px;
        }

        .tree-depth1 {
            margin-bottom: 8px;
        }

        .tree-depth2 {
            margin-left: 24px;
            margin-top: 4px;
        }

        .tree-depth3 {
            margin-left: 24px;
            margin-top: 2px;
        }

        .tree-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .tree-item:hover {
            background: #f8f9fa;
        }

        .depth1-item {
            background: #f0f0ff;
            border-left: 4px solid var(--primary);
            font-weight: 600;
        }

        .depth1-item:hover {
            background: #e8e8ff;
        }

        .depth2-item {
            background: #f8f9fa;
            border-left: 3px solid var(--success);
            font-weight: 500;
        }

        .depth2-item:hover {
            background: #e9ecef;
        }

        .depth3-item {
            background: white;
            border: 1px solid #e9ecef;
            font-weight: 400;
        }

        .depth3-item:hover {
            background: #f8f9fa;
            border-color: var(--primary);
        }

        .tree-arrow {
            font-size: 10px;
            color: #6c757d;
            transition: transform 0.2s;
            width: 12px;
        }

        .tree-arrow.open {
            transform: rotate(90deg);
        }

        .tree-icon {
            font-size: 16px;
        }

        .tree-name {
            flex: 1;
        }

        .tree-link-status {
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 10px;
            margin-right: 8px;
        }

        .tree-link-status.linked {
            background: #d4edda;
            color: #155724;
        }

        .tree-link-status.not-linked {
            background: #fff3cd;
            color: #856404;
        }

        .tree-actions {
            display: flex;
            gap: 4px;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .tree-item:hover .tree-actions {
            opacity: 1;
        }

        .tree-btn {
            padding: 4px 8px;
            font-size: 11px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }

        .tree-btn.edit {
            background: #e3f2fd;
            color: #1976d2;
        }

        .tree-btn.edit:hover {
            background: #1976d2;
            color: white;
        }

        .tree-btn.add {
            background: #e8f5e9;
            color: #388e3c;
        }

        .tree-btn.add:hover {
            background: #388e3c;
            color: white;
        }

        .tree-btn.delete {
            background: #ffebee;
            color: #d32f2f;
        }

        .tree-btn.delete:hover {
            background: #d32f2f;
            color: white;
        }

        .tree-btn.link {
            background: #fff3e0;
            color: #f57c00;
        }

        .tree-btn.link:hover {
            background: #f57c00;
            color: white;
        }

        .tree-btn.move {
            background: #f5f5f5;
            color: #616161;
        }

        .tree-btn.move:hover {
            background: #616161;
            color: white;
        }

        .tree-children {
            overflow: hidden;
        }

        /* ========== Admin Home Dashboard Enhancements ========== */

        /* Enhanced Stat Cards with Change Indicators */
        .stat-card-enhanced {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .stat-header {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            font-weight: 600;
            color: #495057;
        }

        .stat-header .stat-icon {
            font-size: 20px;
        }

        .stat-change {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            font-weight: 600;
        }

        .stat-change.up {
            color: var(--success);
        }

        .stat-change.down {
            color: var(--danger);
        }

        .change-arrow {
            font-size: 14px;
            font-weight: 700;
        }

        .change-value {
            font-weight: 700;
        }

        .change-period {
            color: #6c757d;
            font-weight: 500;
        }

        .stat-urgent {
            margin-top: 4px;
        }

        .urgent-badge {
            display: inline-block;
            background: rgba(220, 53, 69, 0.1);
            color: var(--danger);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 700;
            border: 1px solid rgba(220, 53, 69, 0.3);
        }

        /* Dual Section Grid (Activity + Urgent Tasks) */
        .dual-section-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 24px;
        }

        /* Activity Timeline */
        .activity-timeline {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .activity-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 14px;
            background: white;
            border-radius: var(--border-radius);
            border-left: 3px solid #e9ecef;
            transition: all 0.2s;
        }

        .activity-item:hover {
            background: #f8f9fa;
            box-shadow: var(--shadow-sm);
            transform: translateX(2px);
        }

        .activity-item.urgent {
            border-left-color: var(--danger);
            background: rgba(220, 53, 69, 0.03);
        }

        .activity-item.warning {
            border-left-color: var(--warning);
        }

        .activity-item.normal {
            border-left-color: var(--success);
        }

        .activity-icon {
            font-size: 18px;
            line-height: 1;
        }

        .activity-content {
            flex: 1;
        }

        .activity-message {
            font-size: 14px;
            font-weight: 500;
            color: #212529;
            margin-bottom: 4px;
        }

        .activity-time {
            font-size: 12px;
            color: #6c757d;
        }

        /* Urgent Tasks List */
        .urgent-tasks-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .urgent-task {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px;
            background: white;
            border-radius: var(--border-radius);
            border: 1px solid #e9ecef;
            cursor: pointer;
            transition: all 0.2s;
        }

        .urgent-task:hover {
            background: #f8f9fa;
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
            border-color: var(--primary);
        }

        .urgent-task.high {
            border-left: 4px solid var(--danger);
            background: rgba(220, 53, 69, 0.03);
        }

        .urgent-task.medium {
            border-left: 4px solid var(--warning);
        }

        .urgent-task-icon {
            font-size: 20px;
        }

        .urgent-task-content {
            flex: 1;
        }

        .urgent-task-title {
            font-size: 14px;
            font-weight: 600;
            color: #212529;
            margin-bottom: 4px;
        }

        .urgent-task-count {
            font-size: 12px;
            color: #6c757d;
        }

        .urgent-task-arrow {
            font-size: 18px;
            color: #adb5bd;
            transition: all 0.2s;
        }

        .urgent-task:hover .urgent-task-arrow {
            color: var(--primary);
            transform: translateX(4px);
        }

        /* Charts Grid */
        .charts-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 24px;
        }

        .chart-container {
            min-height: 350px;
        }

        .chart-container canvas {
            max-height: 300px;
        }

        .section-subtitle {
            font-size: 12px;
            color: #6c757d;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <!-- ê³µì§€ì‚¬í•­ ì‘ì„±/ìˆ˜ì • ëª¨ë‹¬ -->
    <div id="noticeModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 9999; align-items: center; justify-content: center;">
        <div style="background: white; border-radius: 12px; width: 600px; max-width: 90%; max-height: 90vh; overflow-y: auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
            <div style="padding: 24px; border-bottom: 1px solid var(--border-color);">
                <h2 style="margin: 0; color: var(--primary);" id="noticeModalTitle">ğŸ“ ê³µì§€ì‚¬í•­ ì‘ì„±</h2>
            </div>
            <div style="padding: 24px;">
                <form id="noticeForm" onsubmit="handleNoticeSubmit(event)">
                    <!-- ì¤‘ìš”ë„ ì„ íƒ -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px;">ì¤‘ìš”ë„</label>
                        <div style="display: flex; gap: 12px;">
                            <label style="flex: 1; cursor: pointer;">
                                <input type="radio" name="importance" value="important" style="margin-right: 6px;">
                                <span style="color: #dc3545; font-weight: 600;">ğŸ”´ ì¤‘ìš”</span>
                            </label>
                            <label style="flex: 1; cursor: pointer;">
                                <input type="radio" name="importance" value="normal" checked style="margin-right: 6px;">
                                <span style="color: #6c757d;">ì¼ë°˜</span>
                            </label>
                        </div>
                    </div>

                    <!-- ì œëª© -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px;">ì œëª© *</label>
                        <input type="text" id="noticeTitle" required
                               style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;"
                               placeholder="ê³µì§€ì‚¬í•­ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">
                    </div>

                    <!-- ë‚´ìš© -->
                    <div style="margin-bottom: 24px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px;">ë‚´ìš© *</label>
                        <textarea id="noticeContent" required rows="8"
                                  style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px; resize: vertical; font-family: inherit;"
                                  placeholder="ê³µì§€ì‚¬í•­ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    </div>

                    <!-- ë²„íŠ¼ -->
                    <div style="display: flex; gap: 12px; justify-content: flex-end;">
                        <button type="button" onclick="closeNoticeModal()"
                                style="padding: 12px 24px; background: var(--neutral); color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">
                            ì·¨ì†Œ
                        </button>
                        <button type="submit"
                                style="padding: 12px 24px; background: var(--primary); color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">
                            ì €ì¥
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="layout-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="rice-logo">
                    <span class="rice-grain"></span>
                    <span class="rice-grain"></span>
                    <span class="rice-grain"></span>
                </div>
                <div class="header-title">
                    <div class="header-title-main">SSAL Works Admin</div>
                    <div class="header-title-sub">ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</div>
                </div>
            </div>
            <div class="header-right">
                <div class="admin-badge">ğŸ‘¨â€ğŸ’¼ ê´€ë¦¬ì</div>
                <div class="user-info">
                    <div class="user-avatar">ì¨ë‹ˆ</div>
                    <span style="font-size: 14px; font-weight: 500;">ì¨ë‹ˆë‹˜</span>
                </div>
                <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
            </div>
        </header>

        <!-- Left Sidebar -->
        <aside class="sidebar">
            <div class="menu-section">
                <div class="menu-section-title">ë©”ì¸</div>
                <div class="menu-item active" onclick="showSection('overview', event)">
                    ğŸ“Š ëŒ€ì‹œë³´ë“œ ê°œìš”
                </div>
            </div>

            <div class="menu-section">
                <div class="menu-section-title">ì»¨í…ì¸  ê´€ë¦¬</div>
                <div class="menu-item" onclick="showSection('notice', event)">
                    ğŸ“¢ ê³µì§€ì‚¬í•­ ê´€ë¦¬
                </div>
                <div class="menu-item" onclick="showSection('learning', event)">
                    ğŸ“š í•™ìŠµìš© ì»¨í…ì¸  ê´€ë¦¬
                </div>
                <div class="menu-item" onclick="showSection('faq', event)">
                    ğŸ™‹ FAQ ê´€ë¦¬
                </div>
                <div class="menu-item" onclick="showSection('ordersheet', event)">
                    ğŸ“ Order Sheet í…œí”Œë¦¿
                </div>
                <div class="menu-item" onclick="showSection('guide', event)">
                    ğŸ“– ì•ˆë‚´ë¬¸ ê´€ë¦¬
                </div>
            </div>

            <div class="menu-section">
                <div class="menu-section-title">íšŒì›/ê²°ì œ</div>
                <div class="menu-item" onclick="showSection('users', event)">
                    ğŸ‘¥ íšŒì› ê´€ë¦¬
                </div>
                <div class="menu-item" onclick="showSection('subscription', event)">
                    ğŸ”„ êµ¬ë… ê´€ë¦¬
                </div>
                <div class="menu-item" onclick="showSection('payment', event)">
                    ğŸ’³ ê²°ì œ ê´€ë¦¬
                </div>
                <div class="menu-item" onclick="showSection('credit', event)">
                    ğŸª™ í¬ë ˆë”§ ê´€ë¦¬
                </div>
                <div class="menu-item" onclick="showSection('inquiries', event)">
                    ğŸ’¬ ë¬¸ì˜ ê´€ë¦¬
                    <span class="menu-badge">5</span>
                </div>
            </div>

            <div class="menu-section">
                <div class="menu-section-title">í†µê³„</div>
                <div class="menu-item" onclick="showSection('stats', event)">
                    ğŸ“ˆ í†µê³„ ë° ë¶„ì„
                </div>
                <div class="menu-item" onclick="showSection('api', event)">
                    ğŸ”Œ API ì‚¬ìš©ëŸ‰
                </div>
            </div>

            <div class="menu-section">
                <div class="menu-section-title">ì‹œìŠ¤í…œ</div>
                <div class="menu-item" onclick="showSection('settings', event)">
                    âš™ï¸ ì„¤ì •
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Overview Section -->
            <div id="overview-section" class="content-view">
                <div class="content-header">
                    <h1 class="content-title">ğŸ  ëŒ€ì‹œë³´ë“œ í™ˆ</h1>
                    <p class="content-subtitle">ì•ˆë…•í•˜ì„¸ìš”, ì¨ë‹ˆë‹˜! ğŸ‘‹ ì˜¤ëŠ˜ì˜ ì „ì²´ í˜„í™©ì„ í™•ì¸í•˜ì„¸ìš”.</p>
                </div>

                <!-- Stats Grid with Change Indicators -->
                <div class="stats-grid">
                    <div class="stat-card stat-card-enhanced primary">
                        <div class="stat-header">
                            <span class="stat-icon">ğŸ‘¥</span>
                            <span class="stat-label">ì´ íšŒì› ìˆ˜</span>
                        </div>
                        <div class="stat-value">1,234</div>
                        <div class="stat-change up">
                            <span class="change-arrow">â†‘</span>
                            <span class="change-value">+15</span>
                            <span class="change-period">ì–´ì œ ëŒ€ë¹„</span>
                        </div>
                    </div>
                    <div class="stat-card stat-card-enhanced success">
                        <div class="stat-header">
                            <span class="stat-icon">ğŸ’°</span>
                            <span class="stat-label">ì´ë²ˆ ë‹¬ ë§¤ì¶œ</span>
                        </div>
                        <div class="stat-value">â‚©5,200,000</div>
                        <div class="stat-change up">
                            <span class="change-arrow">â†‘</span>
                            <span class="change-value">+8%</span>
                            <span class="change-period">ì „ì›” ëŒ€ë¹„</span>
                        </div>
                    </div>
                    <div class="stat-card stat-card-enhanced warning">
                        <div class="stat-header">
                            <span class="stat-icon">ğŸª™</span>
                            <span class="stat-label">í¬ë ˆë”§ íŒë§¤</span>
                        </div>
                        <div class="stat-value">830,000 C</div>
                        <div class="stat-change down">
                            <span class="change-arrow">â†“</span>
                            <span class="change-value">-5%</span>
                            <span class="change-period">ì „ì›” ëŒ€ë¹„</span>
                        </div>
                    </div>
                    <div class="stat-card stat-card-enhanced danger">
                        <div class="stat-header">
                            <span class="stat-icon">ğŸ“</span>
                            <span class="stat-label">ë¯¸ì²˜ë¦¬ ë¬¸ì˜</span>
                        </div>
                        <div class="stat-value">12</div>
                        <div class="stat-urgent">
                            <span class="urgent-badge">âš ï¸ ê¸´ê¸‰ 3ê±´</span>
                        </div>
                    </div>
                </div>

                <!-- Activity and Urgent Tasks Row -->
                <div class="dual-section-grid">
                    <!-- Recent Activity Timeline -->
                    <div class="content-section">
                        <div class="section-header">
                            <h2 class="section-title">ğŸ“‹ ìµœê·¼ í™œë™</h2>
                            <span class="section-subtitle">ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸</span>
                        </div>
                        <div class="activity-timeline" id="activityTimeline">
                            <div class="activity-item urgent">
                                <span class="activity-icon">ğŸ”´</span>
                                <div class="activity-content">
                                    <div class="activity-message">ê¸´ê¸‰ ë¬¸ì˜: ê²°ì œ ì˜¤ë¥˜</div>
                                    <div class="activity-time">3ë¶„ ì „</div>
                                </div>
                            </div>
                            <div class="activity-item normal">
                                <span class="activity-icon">ğŸŸ¢</span>
                                <div class="activity-content">
                                    <div class="activity-message">ì‹ ê·œ ê°€ì…: í™ê¸¸ë™</div>
                                    <div class="activity-time">12ë¶„ ì „</div>
                                </div>
                            </div>
                            <div class="activity-item warning">
                                <span class="activity-icon">ğŸŸ¡</span>
                                <div class="activity-content">
                                    <div class="activity-message">í¬ë ˆë”§ í™˜ë¶ˆ ìš”ì²­</div>
                                    <div class="activity-time">25ë¶„ ì „</div>
                                </div>
                            </div>
                            <div class="activity-item normal">
                                <span class="activity-icon">ğŸŸ¢</span>
                                <div class="activity-content">
                                    <div class="activity-message">êµ¬ë… ê°±ì‹  ì™„ë£Œ</div>
                                    <div class="activity-time">1ì‹œê°„ ì „</div>
                                </div>
                            </div>
                            <div class="activity-item normal">
                                <span class="activity-icon">ğŸŸ¢</span>
                                <div class="activity-content">
                                    <div class="activity-message">ì‹ ê·œ ê°€ì…: ê¹€ì² ìˆ˜</div>
                                    <div class="activity-time">2ì‹œê°„ ì „</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Urgent Tasks -->
                    <div class="content-section">
                        <div class="section-header">
                            <h2 class="section-title">âš ï¸ ê¸´ê¸‰ ì²˜ë¦¬ í•„ìš”</h2>
                            <span class="section-subtitle">ìš°ì„ ìˆœìœ„ ìˆœ</span>
                        </div>
                        <div class="urgent-tasks-list" id="urgentTasksList">
                            <div class="urgent-task high" onclick="showSection('subscription', event)">
                                <span class="urgent-task-icon">ğŸ”´</span>
                                <div class="urgent-task-content">
                                    <div class="urgent-task-title">ë¯¸ë‚© íšŒì› 3ëª… (êµ¬ë… ì •ì§€ ì˜ˆì •)</div>
                                    <div class="urgent-task-count">3ê±´</div>
                                </div>
                                <span class="urgent-task-arrow">â†’</span>
                            </div>
                            <div class="urgent-task high" onclick="showSection('credit', event)">
                                <span class="urgent-task-icon">ğŸ”´</span>
                                <div class="urgent-task-content">
                                    <div class="urgent-task-title">í¬ë ˆë”§ í™˜ë¶ˆ ìš”ì²­</div>
                                    <div class="urgent-task-count">5ê±´</div>
                                </div>
                                <span class="urgent-task-arrow">â†’</span>
                            </div>
                            <div class="urgent-task medium" onclick="showSection('credit', event)">
                                <span class="urgent-task-icon">ğŸŸ¡</span>
                                <div class="urgent-task-content">
                                    <div class="urgent-task-title">ì”ì•¡ ë¶€ì¡± íšŒì›</div>
                                    <div class="urgent-task-count">12ëª…</div>
                                </div>
                                <span class="urgent-task-arrow">â†’</span>
                            </div>
                            <div class="urgent-task medium" onclick="showSection('inquiries', event)">
                                <span class="urgent-task-icon">ğŸŸ¡</span>
                                <div class="urgent-task-content">
                                    <div class="urgent-task-title">ì‹ ê·œ ë¬¸ì˜ (ë¯¸ë‹µë³€)</div>
                                    <div class="urgent-task-count">8ê±´</div>
                                </div>
                                <span class="urgent-task-arrow">â†’</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="charts-grid">
                    <div class="content-section chart-container">
                        <div class="section-header">
                            <h2 class="section-title">ğŸ“ˆ íšŒì› ê°€ì… ì¶”ì´</h2>
                            <span class="section-subtitle">ìµœê·¼ 7ì¼</span>
                        </div>
                        <canvas id="memberSignupChart" style="height: 300px;"></canvas>
                    </div>
                    <div class="content-section chart-container">
                        <div class="section-header">
                            <h2 class="section-title">ğŸ’° ë§¤ì¶œ ì¶”ì´</h2>
                            <span class="section-subtitle">ìµœê·¼ 4ì£¼</span>
                        </div>
                        <canvas id="revenueChart" style="height: 300px;"></canvas>
                    </div>
                </div>

                <!-- Recent Inquiries -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ“‹ ìµœê·¼ ë¬¸ì˜ (ì‹¤ì‹œê°„)</h2>
                        <button class="section-action" onclick="showSection('inquiries', event)">ì „ì²´ ë³´ê¸°</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ì‚¬ìš©ì</th>
                                <th>ì œëª©</th>
                                <th>ìƒíƒœ</th>
                                <th>ì‹œê°„</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>user@example.com</td>
                                <td>íšŒì›ê°€ì… ì˜¤ë¥˜</td>
                                <td><span class="status-badge pending">ë¯¸ë‹µë³€</span></td>
                                <td>2ë¶„ ì „</td>
                                <td><a href="#" class="action-link">ë‹µë³€í•˜ê¸°</a></td>
                            </tr>
                            <tr>
                                <td>test@test.com</td>
                                <td>API ì—°ë™ ë¬¸ì˜</td>
                                <td><span class="status-badge pending">ë¯¸ë‹µë³€</span></td>
                                <td>15ë¶„ ì „</td>
                                <td><a href="#" class="action-link">ë‹µë³€í•˜ê¸°</a></td>
                            </tr>
                            <tr>
                                <td>admin@ssal.com</td>
                                <td>ê²°ì œ ë¬¸ì˜</td>
                                <td><span class="status-badge answered">ë‹µë³€ì™„ë£Œ</span></td>
                                <td>1ì‹œê°„ ì „</td>
                                <td><a href="#" class="action-link">ë³´ê¸°</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Recent Users -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ‘¥ ìµœê·¼ ê°€ì… ì‚¬ìš©ì</h2>
                        <button class="section-action" onclick="showSection('users', event)">ì „ì²´ ë³´ê¸°</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ì´ë©”ì¼</th>
                                <th>ì´ë¦„</th>
                                <th>ìƒíƒœ</th>
                                <th>ê°€ì…ì¼</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>user@example.com</td>
                                <td>í™ê¸¸ë™</td>
                                <td><span class="status-badge active">í™œì„±</span></td>
                                <td>2025-11-17</td>
                            </tr>
                            <tr>
                                <td>test@test.com</td>
                                <td>ê¹€ì² ìˆ˜</td>
                                <td><span class="status-badge active">í™œì„±</span></td>
                                <td>2025-11-16</td>
                            </tr>
                            <tr>
                                <td>admin@ssal.com</td>
                                <td>ë°•ì˜í¬</td>
                                <td><span class="status-badge active">í™œì„±</span></td>
                                <td>2025-11-15</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Notice Section -->
            <div id="notice-section" class="content-view" style="display:none;">
                <div class="content-header">
                    <h1 class="content-title">ğŸ“¢ ê³µì§€ì‚¬í•­ ê´€ë¦¬</h1>
                    <p class="content-subtitle">ì‚¬ìš©ìì—ê²Œ í‘œì‹œë  ê³µì§€ì‚¬í•­ì„ ê´€ë¦¬í•˜ì„¸ìš”.</p>
                </div>

                <!-- ê³µì§€ì‚¬í•­ í†µê³„ -->
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-value" id="noticeCountTotal">0</div>
                        <div class="stat-label">ì „ì²´ ê³µì§€</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-value" id="noticeCountPublished">0</div>
                        <div class="stat-label">ê²Œì‹œ ì¤‘</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-value" id="noticeCountImportant">0</div>
                        <div class="stat-label">ì¤‘ìš” ê³µì§€</div>
                    </div>
                </div>

                <!-- ê³µì§€ì‚¬í•­ ëª©ë¡ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ“‹ ê³µì§€ì‚¬í•­ ëª©ë¡</h2>
                        <button class="section-action" onclick="showNoticeForm()">+ ìƒˆ ê³µì§€ ì¶”ê°€</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ì¤‘ìš”ë„</th>
                                <th>ì œëª©</th>
                                <th>ê²Œì‹œì¼</th>
                                <th>ìƒíƒœ</th>
                                <th>ì¡°íšŒìˆ˜</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody id="noticesTableBody">
                            <!-- Supabaseì—ì„œ ë™ì ìœ¼ë¡œ ë¡œë“œë¨ -->
                            <tr>
                                <td colspan="6" style="text-align:center; padding: 40px; color: #999;">
                                    ê³µì§€ì‚¬í•­ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Learning Content Section -->
            <div id="learning-section" class="content-view" style="display:none;">
                <div class="content-header">
                    <h1 class="content-title">ğŸ“š í•™ìŠµìš© ì»¨í…ì¸  ê´€ë¦¬</h1>
                    <p class="content-subtitle">í•™ìŠµìš© ì»¨í…ì¸ ì˜ ì œëª©ê³¼ Google Drive ë§í¬ë¥¼ ê´€ë¦¬í•˜ì„¸ìš”.</p>
                </div>

                <!-- í•™ìŠµìš© ì»¨í…ì¸  í†µê³„ -->
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-value" id="depth1Count">5</div>
                        <div class="stat-label">ëŒ€ë¶„ë¥˜ (Depth 1)</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-value" id="depth2Count">23</div>
                        <div class="stat-label">ì¤‘ë¶„ë¥˜ (Depth 2)</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-value" id="depth3Count">115</div>
                        <div class="stat-label">ì†Œë¶„ë¥˜ (Depth 3)</div>
                    </div>
                </div>

                <!-- ì»¨í…ì¸  íŠ¸ë¦¬ ê´€ë¦¬ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ“‹ ì»¨í…ì¸  êµ¬ì¡° ê´€ë¦¬</h2>
                        <button class="section-action" onclick="showAddDepth1Form()">+ ëŒ€ë¶„ë¥˜ ì¶”ê°€</button>
                    </div>

                    <!-- íŠ¸ë¦¬ êµ¬ì¡° -->
                    <div id="learningContentTree" class="learning-tree">
                        <div style="text-align: center; padding: 40px 20px; color: #6c757d;">
                            <div style="font-size: 48px; margin-bottom: 16px;">â³</div>
                            <div style="font-size: 16px; font-weight: 600;">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
                            <div style="font-size: 13px; margin-top: 8px;">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FAQ Section -->
            <div id="faq-section" class="content-view" style="display:none;">
                <div class="content-header">
                    <h1 class="content-title">ğŸ™‹ FAQ ê´€ë¦¬</h1>
                    <p class="content-subtitle">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ì˜ ë‹µë³€ ë‚´ìš©ì„ ê´€ë¦¬í•˜ì„¸ìš”. (í•™ìŠµìš© ì½˜í…ì¸ ì™€ ë™ì¼í•œ 3ë‹¨ê³„ êµ¬ì¡°)</p>
                </div>

                <!-- FAQ í†µê³„ -->
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-value" id="faqDepth1Count">3</div>
                        <div class="stat-label">ëŒ€ë¶„ë¥˜ (Depth 1)</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-value" id="faqDepth2Count">15</div>
                        <div class="stat-label">ì¤‘ë¶„ë¥˜ (Depth 2)</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-value" id="faqDepth3Count">75</div>
                        <div class="stat-label">ì†Œë¶„ë¥˜ (Depth 3)</div>
                    </div>
                </div>

                <!-- FAQ íŠ¸ë¦¬ ê´€ë¦¬ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ“‹ FAQ êµ¬ì¡° ê´€ë¦¬</h2>
                        <button class="section-action" onclick="showAddFaqDepth1Form()">+ ëŒ€ë¶„ë¥˜ ì¶”ê°€</button>
                    </div>

                    <!-- íŠ¸ë¦¬ êµ¬ì¡° (ë™ì ìœ¼ë¡œ ìƒì„±ë¨) -->
                    <div id="faqTree" class="learning-tree">
                        <div style="text-align: center; padding: 40px; color: #999;">
                            FAQ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                        </div>
                    </div>
                </div>
            </div>

            <!-- Order Sheet Template Section -->
            <div id="ordersheet-section" class="content-view" style="display:none;">
                <div class="content-header">
                    <h1 class="content-title">ğŸ“ Order Sheet í…œí”Œë¦¿ ê´€ë¦¬</h1>
                    <p class="content-subtitle">ê° ë‹¨ê³„ë³„ Order Sheet í…œí”Œë¦¿ì„ ê´€ë¦¬í•˜ì„¸ìš”.</p>
                </div>

                <!-- Order Sheet í†µê³„ -->
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-value">8</div>
                        <div class="stat-label">ë‹¨ê³„ ê·¸ë£¹</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-value">32</div>
                        <div class="stat-label">í…œí”Œë¦¿ ìˆ˜</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-value">5</div>
                        <div class="stat-label">ë¯¸ì‘ì„±</div>
                    </div>
                </div>

                <!-- í…œí”Œë¦¿ ëª©ë¡ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ“‹ í…œí”Œë¦¿ ëª©ë¡</h2>
                        <button class="section-action" onclick="showOrderSheetForm()">+ ìƒˆ í…œí”Œë¦¿ ì¶”ê°€</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ë‹¨ê³„ ID</th>
                                <th>ë‹¨ê³„ëª…</th>
                                <th>í…œí”Œë¦¿ ìƒíƒœ</th>
                                <th>ìˆ˜ì •ì¼</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>dir_structure</code></td>
                                <td>ì‘ì—… ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±</td>
                                <td><span class="status-badge active">ì‘ì„±ì™„ë£Œ</span></td>
                                <td>2025-11-20</td>
                                <td>
                                    <a href="#" class="action-link" onclick="event.preventDefault(); editOrderSheet('dir_structure')">ìˆ˜ì •</a>
                                    <a href="#" class="action-link" style="color: #6c757d;">ë¯¸ë¦¬ë³´ê¸°</a>
                                </td>
                            </tr>
                            <tr>
                                <td><code>biz_0_1</code></td>
                                <td>ê¸°ì—… ë¹„ì „ ì„¤ì •</td>
                                <td><span class="status-badge active">ì‘ì„±ì™„ë£Œ</span></td>
                                <td>2025-11-18</td>
                                <td>
                                    <a href="#" class="action-link">ìˆ˜ì •</a>
                                    <a href="#" class="action-link" style="color: #6c757d;">ë¯¸ë¦¬ë³´ê¸°</a>
                                </td>
                            </tr>
                            <tr>
                                <td><code>biz_0_2</code></td>
                                <td>ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œ ë° ëª©ì  ìˆ˜ë¦½</td>
                                <td><span class="status-badge active">ì‘ì„±ì™„ë£Œ</span></td>
                                <td>2025-11-18</td>
                                <td>
                                    <a href="#" class="action-link">ìˆ˜ì •</a>
                                    <a href="#" class="action-link" style="color: #6c757d;">ë¯¸ë¦¬ë³´ê¸°</a>
                                </td>
                            </tr>
                            <tr>
                                <td><code>plan_1_1</code></td>
                                <td>í”„ë¡œì íŠ¸ ê°œìš” ì •ì˜</td>
                                <td><span class="status-badge pending">ë¯¸ì‘ì„±</span></td>
                                <td>-</td>
                                <td>
                                    <a href="#" class="action-link">ì‘ì„±</a>
                                </td>
                            </tr>
                            <tr>
                                <td><code>s1</code></td>
                                <td>í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ</td>
                                <td><span class="status-badge active">ì‘ì„±ì™„ë£Œ</span></td>
                                <td>2025-11-15</td>
                                <td>
                                    <a href="#" class="action-link">ìˆ˜ì •</a>
                                    <a href="#" class="action-link" style="color: #6c757d;">ë¯¸ë¦¬ë³´ê¸°</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- ë‹¨ê³„ ê·¸ë£¹ë³„ ê´€ë¦¬ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ“ ë‹¨ê³„ ê·¸ë£¹ë³„ í˜„í™©</h2>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px;">
                        <div style="padding: 16px; background: #f8f9fa; border-radius: 8px; text-align: center;">
                            <div style="font-size: 24px; margin-bottom: 8px;">â˜†</div>
                            <div style="font-weight: 600; margin-bottom: 4px;">íŠ¹ë³„ë‹¨ê³„</div>
                            <div style="font-size: 12px; color: #6c757d;">1/1 ì™„ë£Œ</div>
                        </div>
                        <div style="padding: 16px; background: #f8f9fa; border-radius: 8px; text-align: center;">
                            <div style="font-size: 24px; margin-bottom: 8px;">0</div>
                            <div style="font-weight: 600; margin-bottom: 4px;">ì‚¬ì—…ê³„íš</div>
                            <div style="font-size: 12px; color: #6c757d;">3/3 ì™„ë£Œ</div>
                        </div>
                        <div style="padding: 16px; background: #f8f9fa; border-radius: 8px; text-align: center;">
                            <div style="font-size: 24px; margin-bottom: 8px;">1</div>
                            <div style="font-weight: 600; margin-bottom: 4px;">í”„ë¡œì íŠ¸ ê¸°íš</div>
                            <div style="font-size: 12px; color: var(--danger);">2/6 ì™„ë£Œ</div>
                        </div>
                        <div style="padding: 16px; background: #f8f9fa; border-radius: 8px; text-align: center;">
                            <div style="font-size: 24px; margin-bottom: 8px;">2-7</div>
                            <div style="font-weight: 600; margin-bottom: 4px;">ê°œë°œ ë‹¨ê³„</div>
                            <div style="font-size: 12px; color: #6c757d;">6/6 ì™„ë£Œ</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Guide Content Section -->
            <div id="guide-section" class="content-view" style="display:none;">
                <div class="content-header">
                    <h1 class="content-title">ğŸ“– ì•ˆë‚´ë¬¸ ê´€ë¦¬</h1>
                    <p class="content-subtitle">ê° ë‹¨ê³„ë³„ ê°€ì´ë“œ ì•ˆë‚´ë¬¸ì„ ê´€ë¦¬í•˜ì„¸ìš”.</p>
                </div>

                <!-- ì•ˆë‚´ë¬¸ í†µê³„ -->
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-value">32</div>
                        <div class="stat-label">ì „ì²´ ì•ˆë‚´ë¬¸</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-value">28</div>
                        <div class="stat-label">ì‘ì„± ì™„ë£Œ</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-value">4</div>
                        <div class="stat-label">ë¯¸ì‘ì„±</div>
                    </div>
                </div>

                <!-- ì•ˆë‚´ë¬¸ ëª©ë¡ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ“‹ ì•ˆë‚´ë¬¸ ëª©ë¡</h2>
                        <button class="section-action" onclick="showGuideForm()">+ ìƒˆ ì•ˆë‚´ë¬¸ ì¶”ê°€</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ë‹¨ê³„ ID</th>
                                <th>ë‹¨ê³„ëª…</th>
                                <th>hasAction</th>
                                <th>í™•ì¸ ë©”ì‹œì§€</th>
                                <th>ìƒíƒœ</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>welcome</code></td>
                                <td>í™˜ì˜í•©ë‹ˆë‹¤</td>
                                <td><span class="status-badge" style="background: #e9ecef;">false</span></td>
                                <td>-</td>
                                <td><span class="status-badge active">ì™„ë£Œ</span></td>
                                <td>
                                    <a href="#" class="action-link" onclick="event.preventDefault(); editGuide('welcome')">ìˆ˜ì •</a>
                                    <a href="#" class="action-link" style="color: #6c757d;">ë¯¸ë¦¬ë³´ê¸°</a>
                                </td>
                            </tr>
                            <tr>
                                <td><code>dir_structure</code></td>
                                <td>ì‘ì—… ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±</td>
                                <td><span class="status-badge" style="background: #d4edda; color: #155724;">true</span></td>
                                <td>ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¥¼ ìƒì„±í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</td>
                                <td><span class="status-badge active">ì™„ë£Œ</span></td>
                                <td>
                                    <a href="#" class="action-link">ìˆ˜ì •</a>
                                    <a href="#" class="action-link" style="color: #6c757d;">ë¯¸ë¦¬ë³´ê¸°</a>
                                </td>
                            </tr>
                            <tr>
                                <td><code>biz_0_1</code></td>
                                <td>ê¸°ì—… ë¹„ì „ ì„¤ì •</td>
                                <td><span class="status-badge" style="background: #d4edda; color: #155724;">true</span></td>
                                <td>ê¸°ì—… ë¹„ì „ì„ ì„¤ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</td>
                                <td><span class="status-badge active">ì™„ë£Œ</span></td>
                                <td>
                                    <a href="#" class="action-link">ìˆ˜ì •</a>
                                    <a href="#" class="action-link" style="color: #6c757d;">ë¯¸ë¦¬ë³´ê¸°</a>
                                </td>
                            </tr>
                            <tr>
                                <td><code>plan_1_1</code></td>
                                <td>í”„ë¡œì íŠ¸ ê°œìš” ì •ì˜</td>
                                <td><span class="status-badge" style="background: #d4edda; color: #155724;">true</span></td>
                                <td>-</td>
                                <td><span class="status-badge pending">ë¯¸ì‘ì„±</span></td>
                                <td>
                                    <a href="#" class="action-link">ì‘ì„±</a>
                                </td>
                            </tr>
                            <tr>
                                <td><code>project_example</code></td>
                                <td>SSAL Works (ì˜ˆì‹œ)</td>
                                <td><span class="status-badge" style="background: #e9ecef;">false</span></td>
                                <td>-</td>
                                <td><span class="status-badge active">ì™„ë£Œ</span></td>
                                <td>
                                    <a href="#" class="action-link">ìˆ˜ì •</a>
                                    <a href="#" class="action-link" style="color: #6c757d;">ë¯¸ë¦¬ë³´ê¸°</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Inquiries Section -->
            <div id="inquiries-section" class="content-view" style="display:none;">
                <div class="content-header">
                    <h1 class="content-title">ğŸ’¬ ë¬¸ì˜ ê´€ë¦¬ ("ì¨ë‹ˆì—ê²Œ ë¬»ê¸°")</h1>
                    <p class="content-subtitle">ì‚¬ìš©ì ë¬¸ì˜ë¥¼ í™•ì¸í•˜ê³  ë‹µë³€í•˜ì„¸ìš”.</p>
                </div>

                <!-- ì»¨íŠ¸ë¡¤ ë³´ë“œ -->
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-icon">ğŸ“¬</div>
                        <div class="stat-value">245</div>
                        <div class="stat-label">ì´ ì ‘ìˆ˜</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-icon">âœ…</div>
                        <div class="stat-value">230</div>
                        <div class="stat-label">ë‹µë³€ ì™„ë£Œ</div>
                    </div>
                    <div class="stat-card danger">
                        <div class="stat-icon">â³</div>
                        <div class="stat-value">15</div>
                        <div class="stat-label">ë¯¸ë‹µë³€</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-icon">ğŸ“Š</div>
                        <div class="stat-value">94%</div>
                        <div class="stat-label">ë‹µë³€ìœ¨</div>
                    </div>
                </div>

                <!-- ë¬¸ì˜ ëª©ë¡ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ“‹ ë¬¸ì˜ ëª©ë¡</h2>
                        <div style="display: flex; gap: 10px;">
                            <button class="section-action" style="background: var(--neutral);">ì „ì²´</button>
                            <button class="section-action" style="background: var(--danger);">ë¯¸ë‹µë³€</button>
                            <button class="section-action" style="background: var(--success);">ë‹µë³€ì™„ë£Œ</button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ë²ˆí˜¸</th>
                                <th>ì‚¬ìš©ì</th>
                                <th>ì§ˆë¬¸</th>
                                <th>ìƒíƒœ</th>
                                <th>ì ‘ìˆ˜ì¼</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>INQ-245</td>
                                <td>user@example.com</td>
                                <td>API ì‚¬ìš© ë°©ë²•ì´ ê¶ê¸ˆí•©ë‹ˆë‹¤</td>
                                <td><span class="status-badge pending">ë¯¸ë‹µë³€</span></td>
                                <td>2025-11-24 14:30</td>
                                <td><a href="#" class="action-link" onclick="event.preventDefault(); showInquiryForm()">ë‹µë³€í•˜ê¸°</a></td>
                            </tr>
                            <tr>
                                <td>INQ-244</td>
                                <td>test@test.com</td>
                                <td>ê²°ì œê°€ ì•ˆë˜ëŠ”ë° í™•ì¸ ë¶€íƒë“œë¦½ë‹ˆë‹¤</td>
                                <td><span class="status-badge pending">ë¯¸ë‹µë³€</span></td>
                                <td>2025-11-24 13:15</td>
                                <td><a href="#" class="action-link" onclick="event.preventDefault(); showInquiryForm()">ë‹µë³€í•˜ê¸°</a></td>
                            </tr>
                            <tr>
                                <td>INQ-243</td>
                                <td>admin@ssal.com</td>
                                <td>íšŒì›ê°€ì…ì´ ì•ˆë©ë‹ˆë‹¤</td>
                                <td><span class="status-badge answered">ë‹µë³€ì™„ë£Œ</span></td>
                                <td>2025-11-24 10:00</td>
                                <td><a href="#" class="action-link">ë³´ê¸°</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Payment Section -->
            <div id="payment-section" class="content-view" style="display:none;">
                <div class="content-header">
                    <h1 class="content-title">ğŸ’³ ê²°ì œ ê´€ë¦¬</h1>
                    <p class="content-subtitle">ê²°ì œ ë‚´ì—­ ë° ìˆ˜ìµì„ ê´€ë¦¬í•˜ì„¸ìš”.</p>
                </div>

                <!-- ê²°ì œ í†µê³„ -->
                <div class="stats-grid">
                    <div class="stat-card success">
                        <div class="stat-icon">ğŸ’°</div>
                        <div class="stat-value">â‚©5,420,000</div>
                        <div class="stat-label">ì´ë²ˆ ë‹¬ ë§¤ì¶œ</div>
                    </div>
                    <div class="stat-card primary">
                        <div class="stat-value">143</div>
                        <div class="stat-label">ì™„ë£Œëœ ê²°ì œ</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-value">5</div>
                        <div class="stat-label">ëŒ€ê¸° ì¤‘</div>
                    </div>
                    <div class="stat-card danger">
                        <div class="stat-value">2</div>
                        <div class="stat-label">í™˜ë¶ˆ ìš”ì²­</div>
                    </div>
                </div>

                <!-- ê²°ì œ ë‚´ì—­ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ“‹ ê²°ì œ ë‚´ì—­</h2>
                        <button class="section-action">ë‚´ë³´ë‚´ê¸° (CSV)</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ê²°ì œ ID</th>
                                <th>ì‚¬ìš©ì</th>
                                <th>ê¸ˆì•¡</th>
                                <th>ê²°ì œ ìˆ˜ë‹¨</th>
                                <th>ìƒíƒœ</th>
                                <th>ê²°ì œì¼</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>PAY-2025-001</td>
                                <td>user@example.com</td>
                                <td>â‚©50,000</td>
                                <td>ì‹ ìš©ì¹´ë“œ</td>
                                <td><span class="status-badge answered">ì™„ë£Œ</span></td>
                                <td>2025-11-24 15:30</td>
                                <td><a href="#" class="action-link" onclick="event.preventDefault(); showPaymentDetail()">ìƒì„¸</a></td>
                            </tr>
                            <tr>
                                <td>PAY-2025-002</td>
                                <td>test@test.com</td>
                                <td>â‚©30,000</td>
                                <td>í† ìŠ¤í˜ì´ë¨¼ì¸ </td>
                                <td><span class="status-badge pending">ëŒ€ê¸°</span></td>
                                <td>2025-11-24 14:20</td>
                                <td><a href="#" class="action-link">ìƒì„¸</a></td>
                            </tr>
                            <tr>
                                <td>PAY-2025-003</td>
                                <td>admin@ssal.com</td>
                                <td>â‚©100,000</td>
                                <td>ì‹ ìš©ì¹´ë“œ</td>
                                <td><span class="status-badge answered">ì™„ë£Œ</span></td>
                                <td>2025-11-24 10:15</td>
                                <td><a href="#" class="action-link">ìƒì„¸</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Credit Section -->
            <div id="credit-section" class="content-view" style="display:none;">
                <div class="content-header">
                    <h1 class="content-title">ğŸª™ í¬ë ˆë”§ ê´€ë¦¬</h1>
                    <p class="content-subtitle">ì‚¬ìš©ì í¬ë ˆë”§ì„ ê´€ë¦¬í•˜ì„¸ìš”.</p>
                </div>

                <!-- í¬ë ˆë”§ í†µê³„ -->
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-icon">ğŸª™</div>
                        <div class="stat-value">1,245,800</div>
                        <div class="stat-label">ì „ì²´ í¬ë ˆë”§</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-value">+45,200</div>
                        <div class="stat-label">ì˜¤ëŠ˜ ì¶©ì „</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-value">-18,500</div>
                        <div class="stat-label">ì˜¤ëŠ˜ ì‚¬ìš©</div>
                    </div>
                    <div class="stat-card primary">
                        <div class="stat-value">245</div>
                        <div class="stat-label">í™œì„± ì‚¬ìš©ì</div>
                    </div>
                </div>

                <!-- ì‚¬ìš©ìë³„ í¬ë ˆë”§ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ“‹ ì‚¬ìš©ìë³„ í¬ë ˆë”§</h2>
                        <button class="section-action" onclick="showCreditForm()">+ ìˆ˜ë™ ì¶©ì „/ì°¨ê°</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ì‚¬ìš©ì</th>
                                <th>ì”ì•¡</th>
                                <th>ì´ë²ˆ ë‹¬ ì¶©ì „</th>
                                <th>ì´ë²ˆ ë‹¬ ì‚¬ìš©</th>
                                <th>ë§ˆì§€ë§‰ í™œë™</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>user@example.com</td>
                                <td style="font-weight: 600; color: var(--success);">25,000 C</td>
                                <td>50,000 C</td>
                                <td>25,000 C</td>
                                <td>2025-11-24 14:30</td>
                                <td><a href="#" class="action-link">ë‚´ì—­ë³´ê¸°</a></td>
                            </tr>
                            <tr>
                                <td>test@test.com</td>
                                <td style="font-weight: 600; color: var(--danger);">500 C</td>
                                <td>10,000 C</td>
                                <td>9,500 C</td>
                                <td>2025-11-24 12:15</td>
                                <td><a href="#" class="action-link">ë‚´ì—­ë³´ê¸°</a></td>
                            </tr>
                            <tr>
                                <td>admin@ssal.com</td>
                                <td style="font-weight: 600; color: var(--success);">150,000 C</td>
                                <td>200,000 C</td>
                                <td>50,000 C</td>
                                <td>2025-11-24 10:00</td>
                                <td><a href="#" class="action-link">ë‚´ì—­ë³´ê¸°</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- í¬ë ˆë”§ ì‚¬ìš© ë‚´ì—­ (AIë³„) -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ¤– AIë³„ í¬ë ˆë”§ ì‚¬ìš© ë‚´ì—­</h2>
                        <button class="section-action">ë‚´ë³´ë‚´ê¸° (CSV)</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ì¼ì‹œ</th>
                                <th>ì‚¬ìš©ì</th>
                                <th>AI ì„œë¹„ìŠ¤</th>
                                <th>ì‚¬ìš©ëŸ‰</th>
                                <th>ì°¨ê° í¬ë ˆë”§</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2025-11-24 15:32</td>
                                <td>user@example.com</td>
                                <td>ğŸŸ  Perplexity</td>
                                <td>1,234 í† í°</td>
                                <td style="color: var(--danger);">-150 C</td>
                            </tr>
                            <tr>
                                <td>2025-11-24 15:28</td>
                                <td>test@test.com</td>
                                <td>ğŸŸ¢ ChatGPT</td>
                                <td>2,567 í† í°</td>
                                <td style="color: var(--danger);">-280 C</td>
                            </tr>
                            <tr>
                                <td>2025-11-24 15:20</td>
                                <td>user@example.com</td>
                                <td>ğŸ”µ Gemini</td>
                                <td>890 í† í°</td>
                                <td style="color: var(--danger);">-50 C</td>
                            </tr>
                            <tr>
                                <td>2025-11-24 14:55</td>
                                <td>admin@ssal.com</td>
                                <td>ğŸŸ  Perplexity</td>
                                <td>3,456 í† í°</td>
                                <td style="color: var(--danger);">-420 C</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- í™˜ë¶ˆ ë‚´ì—­ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ’¸ í™˜ë¶ˆ ë‚´ì—­</h2>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>í™˜ë¶ˆ ID</th>
                                <th>ì‚¬ìš©ì</th>
                                <th>í™˜ë¶ˆ í¬ë ˆë”§</th>
                                <th>ì‚¬ìœ </th>
                                <th>ì²˜ë¦¬ì¼</th>
                                <th>ìƒíƒœ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>REF-2025-001</td>
                                <td>refund@test.com</td>
                                <td>5,000 C</td>
                                <td>API ì˜¤ë¥˜ë¡œ ì¸í•œ ì¤‘ë³µ ì°¨ê°</td>
                                <td>2025-11-23</td>
                                <td><span class="status-badge active">ì™„ë£Œ</span></td>
                            </tr>
                            <tr>
                                <td>REF-2025-002</td>
                                <td>user@example.com</td>
                                <td>2,000 C</td>
                                <td>ì„œë¹„ìŠ¤ ë¶ˆë§Œ</td>
                                <td>2025-11-22</td>
                                <td><span class="status-badge active">ì™„ë£Œ</span></td>
                            </tr>
                            <tr>
                                <td>REF-2025-003</td>
                                <td>pending@company.com</td>
                                <td>10,000 C</td>
                                <td>êµ¬ë… ì·¨ì†Œ í™˜ë¶ˆ</td>
                                <td>-</td>
                                <td><span class="status-badge pending">ì²˜ë¦¬ì¤‘</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- ì”ì•¡ ë¶€ì¡± ì•Œë¦¼ ëŒ€ìƒ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">âš ï¸ ì”ì•¡ ë¶€ì¡± ì•Œë¦¼ ëŒ€ìƒ (1,000 C ë¯¸ë§Œ)</h2>
                        <button class="section-action" onclick="sendLowBalanceAlert()">ì¼ê´„ ì•Œë¦¼ ë°œì†¡</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ì‚¬ìš©ì</th>
                                <th>í˜„ì¬ ì”ì•¡</th>
                                <th>ìµœê·¼ ì‚¬ìš©ëŸ‰</th>
                                <th>ì˜ˆìƒ ì†Œì§„ì¼</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>test@test.com</td>
                                <td style="color: var(--danger); font-weight: 600;">500 C</td>
                                <td>ì¼ í‰ê·  200 C</td>
                                <td>2-3ì¼</td>
                                <td>
                                    <a href="#" class="action-link">ì•Œë¦¼</a>
                                    <a href="#" class="action-link">ì¶©ì „</a>
                                </td>
                            </tr>
                            <tr>
                                <td>low@balance.com</td>
                                <td style="color: var(--danger); font-weight: 600;">150 C</td>
                                <td>ì¼ í‰ê·  500 C</td>
                                <td>ì˜¤ëŠ˜</td>
                                <td>
                                    <a href="#" class="action-link">ì•Œë¦¼</a>
                                    <a href="#" class="action-link">ì¶©ì „</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Stats Section -->
            <div id="stats-section" class="content-view" style="display:none;">
                <div class="content-header">
                    <h1 class="content-title">ğŸ“ˆ í†µê³„ ë° ë¶„ì„</h1>
                    <p class="content-subtitle">í”Œë«í¼ ë‚´ë¶€ì—ì„œ ì¸¡ì • ê°€ëŠ¥í•œ í†µê³„ì…ë‹ˆë‹¤.</p>
                </div>

                <!-- ê¸°ê°„ ì„ íƒ -->
                <div class="content-section" style="margin-bottom: 24px;">
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <span style="font-weight: 600;">ê¸°ê°„:</span>
                        <button class="section-action" style="background: var(--primary);">ì˜¤ëŠ˜</button>
                        <button class="section-action" style="background: var(--neutral);">7ì¼</button>
                        <button class="section-action" style="background: var(--neutral);">30ì¼</button>
                        <button class="section-action" style="background: var(--neutral);">ì „ì²´</button>
                    </div>
                </div>

                <!-- íšŒì› í†µê³„ -->
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-icon">ğŸ‘¥</div>
                        <div class="stat-value">245</div>
                        <div class="stat-label">ì´ íšŒì› ìˆ˜</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-icon">âœ¨</div>
                        <div class="stat-value">+12</div>
                        <div class="stat-label">ì‹ ê·œ ê°€ì… (ê¸°ê°„)</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-icon">ğŸ”„</div>
                        <div class="stat-value">45</div>
                        <div class="stat-label">í™œì„± êµ¬ë…ì</div>
                    </div>
                    <div class="stat-card primary">
                        <div class="stat-icon">ğŸ“</div>
                        <div class="stat-value">567</div>
                        <div class="stat-label">Order ì‘ì„± ìˆ˜</div>
                    </div>
                </div>

                <!-- ë§¤ì¶œ í†µê³„ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ’° ë§¤ì¶œ í†µê³„</h2>
                        <button class="section-action">ë‚´ë³´ë‚´ê¸° (CSV)</button>
                    </div>
                    <div class="stats-grid" style="margin-top: 16px;">
                        <div class="stat-card success">
                            <div class="stat-value">â‚©135M</div>
                            <div class="stat-label">ì„¤ì¹˜ë¹„ ë§¤ì¶œ (ëˆ„ì )</div>
                        </div>
                        <div class="stat-card success">
                            <div class="stat-value">â‚©2.25M</div>
                            <div class="stat-label">ì›” ì‚¬ìš©ë£Œ (ì´ë²ˆ ë‹¬)</div>
                        </div>
                        <div class="stat-card warning">
                            <div class="stat-value">â‚©1.24M</div>
                            <div class="stat-label">í¬ë ˆë”§ íŒë§¤ (ì´ë²ˆ ë‹¬)</div>
                        </div>
                        <div class="stat-card primary">
                            <div class="stat-value">â‚©3.49M</div>
                            <div class="stat-label">ì´ë²ˆ ë‹¬ ì´ ë§¤ì¶œ</div>
                        </div>
                    </div>
                </div>

                <!-- AI ì‚¬ìš© í†µê³„ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ¤– AI ì‚¬ìš© í†µê³„</h2>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>AI ì„œë¹„ìŠ¤</th>
                                <th>í˜¸ì¶œ ìˆ˜</th>
                                <th>í¬ë ˆë”§ ìˆ˜ìµ</th>
                                <th>ì‹¤ì œ ë¹„ìš©</th>
                                <th>ë§ˆì§„</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ğŸŸ  Perplexity</td>
                                <td>23,456</td>
                                <td style="color: var(--success);">â‚©468,900</td>
                                <td style="color: var(--danger);">â‚©312,000</td>
                                <td style="color: var(--success); font-weight: 600;">â‚©156,900</td>
                            </tr>
                            <tr>
                                <td>ğŸŸ¢ ChatGPT</td>
                                <td>15,678</td>
                                <td style="color: var(--success);">â‚©235,170</td>
                                <td style="color: var(--danger);">â‚©156,780</td>
                                <td style="color: var(--success); font-weight: 600;">â‚©78,390</td>
                            </tr>
                            <tr>
                                <td>ğŸ”µ Gemini</td>
                                <td>6,544</td>
                                <td style="color: var(--success);">â‚©65,440</td>
                                <td style="color: var(--danger);">â‚©32,720</td>
                                <td style="color: var(--success); font-weight: 600;">â‚©32,720</td>
                            </tr>
                            <tr style="background: #f8f9fa; font-weight: 600;">
                                <td>í•©ê³„</td>
                                <td>45,678</td>
                                <td style="color: var(--success);">â‚©769,510</td>
                                <td style="color: var(--danger);">â‚©501,500</td>
                                <td style="color: var(--success);">â‚©268,010</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>

            <!-- API Usage Section -->
            <div id="api-section" class="content-view" style="display:none;">
                <div class="content-header">
                    <h1 class="content-title">ğŸ”Œ API ì‚¬ìš©ëŸ‰</h1>
                    <p class="content-subtitle">AI API ì‚¬ìš©ëŸ‰ ë° ë¹„ìš©ì„ ëª¨ë‹ˆí„°ë§í•˜ì„¸ìš”.</p>
                </div>

                <!-- API ì‚¬ìš©ëŸ‰ í†µê³„ -->
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-icon">ğŸ¤–</div>
                        <div class="stat-value">45,678</div>
                        <div class="stat-label">ì´ API í˜¸ì¶œ</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-icon">ğŸ’°</div>
                        <div class="stat-value">$234.56</div>
                        <div class="stat-label">ì´ë²ˆ ë‹¬ ë¹„ìš©</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-icon">ğŸ“Š</div>
                        <div class="stat-value">1,523</div>
                        <div class="stat-label">ì˜¤ëŠ˜ í˜¸ì¶œ</div>
                    </div>
                    <div class="stat-card danger">
                        <div class="stat-icon">âš ï¸</div>
                        <div class="stat-value">78%</div>
                        <div class="stat-label">í•œë„ ì‚¬ìš©ë¥ </div>
                    </div>
                </div>

                <!-- AIë³„ ì‚¬ìš©ëŸ‰ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ¤– AIë³„ ì‚¬ìš©ëŸ‰</h2>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>AI ì„œë¹„ìŠ¤</th>
                                <th>í˜¸ì¶œ ìˆ˜</th>
                                <th>í† í° ì‚¬ìš©ëŸ‰</th>
                                <th>ë¹„ìš©</th>
                                <th>ìƒíƒœ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ğŸŸ  Perplexity</td>
                                <td>23,456</td>
                                <td>4,567,890</td>
                                <td>$156.78</td>
                                <td><span class="status-badge active">ì •ìƒ</span></td>
                            </tr>
                            <tr>
                                <td>ğŸŸ¢ ChatGPT</td>
                                <td>15,678</td>
                                <td>3,234,567</td>
                                <td>$67.89</td>
                                <td><span class="status-badge active">ì •ìƒ</span></td>
                            </tr>
                            <tr>
                                <td>ğŸ”µ Gemini</td>
                                <td>6,544</td>
                                <td>1,234,567</td>
                                <td>$9.89</td>
                                <td><span class="status-badge active">ì •ìƒ</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- API í‚¤ ê´€ë¦¬ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ”‘ API í‚¤ ê´€ë¦¬</h2>
                        <button class="section-action">+ ìƒˆ í‚¤ ì¶”ê°€</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ì„œë¹„ìŠ¤</th>
                                <th>API í‚¤</th>
                                <th>ìƒíƒœ</th>
                                <th>ë§Œë£Œì¼</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Perplexity</td>
                                <td>pplx-****-****-****-7890</td>
                                <td><span class="status-badge active">í™œì„±</span></td>
                                <td>2026-01-15</td>
                                <td><a href="#" class="action-link">ìˆ˜ì •</a></td>
                            </tr>
                            <tr>
                                <td>OpenAI</td>
                                <td>sk-****-****-****-abcd</td>
                                <td><span class="status-badge active">í™œì„±</span></td>
                                <td>ë¬´ê¸°í•œ</td>
                                <td><a href="#" class="action-link">ìˆ˜ì •</a></td>
                            </tr>
                            <tr>
                                <td>Google AI</td>
                                <td>AIza****-****-****-wxyz</td>
                                <td><span class="status-badge active">í™œì„±</span></td>
                                <td>ë¬´ê¸°í•œ</td>
                                <td><a href="#" class="action-link">ìˆ˜ì •</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Settings Section -->
            <div id="settings-section" class="content-view" style="display:none;">
                <div class="content-header">
                    <h1 class="content-title">âš™ï¸ ì„¤ì •</h1>
                    <p class="content-subtitle">ì‹œìŠ¤í…œ ì„¤ì •ì„ ê´€ë¦¬í•˜ì„¸ìš”.</p>
                </div>

                <!-- ì¼ë°˜ ì„¤ì • -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ  ì¼ë°˜ ì„¤ì •</h2>
                    </div>
                    <div class="form-group">
                        <label class="form-label">í”Œë«í¼ ì´ë¦„</label>
                        <input type="text" class="form-input" value="SSAL Works">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ê´€ë¦¬ì ì´ë©”ì¼</label>
                        <input type="email" class="form-input" value="admin@ssal.works">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì‹œê°„ëŒ€</label>
                        <select class="form-select">
                            <option value="Asia/Seoul" selected>Asia/Seoul (KST)</option>
                            <option value="UTC">UTC</option>
                        </select>
                    </div>
                </div>

                <!-- ì•Œë¦¼ ì„¤ì • -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ”” ì•Œë¦¼ ì„¤ì •</h2>
                    </div>
                    <div class="form-group" style="display: flex; align-items: center; gap: 12px;">
                        <input type="checkbox" id="notifyInquiry" checked>
                        <label for="notifyInquiry" style="font-weight: 500;">ìƒˆ ë¬¸ì˜ ì ‘ìˆ˜ ì‹œ ì´ë©”ì¼ ì•Œë¦¼</label>
                    </div>
                    <div class="form-group" style="display: flex; align-items: center; gap: 12px;">
                        <input type="checkbox" id="notifyPayment" checked>
                        <label for="notifyPayment" style="font-weight: 500;">ê²°ì œ ì™„ë£Œ ì‹œ ì´ë©”ì¼ ì•Œë¦¼</label>
                    </div>
                    <div class="form-group" style="display: flex; align-items: center; gap: 12px;">
                        <input type="checkbox" id="notifySignup">
                        <label for="notifySignup" style="font-weight: 500;">ì‹ ê·œ ê°€ì… ì‹œ ì´ë©”ì¼ ì•Œë¦¼</label>
                    </div>
                    <div class="form-group" style="display: flex; align-items: center; gap: 12px;">
                        <input type="checkbox" id="notifyApi" checked>
                        <label for="notifyApi" style="font-weight: 500;">API í•œë„ 80% ë„ë‹¬ ì‹œ ì•Œë¦¼</label>
                    </div>
                </div>

                <!-- ìš”ê¸ˆ ì„¤ì • -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ’° ìš”ê¸ˆ ì„¤ì •</h2>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì„¤ì¹˜ë¹„ (ì›)</label>
                        <input type="number" class="form-input" value="3000000">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì›” ì‚¬ìš©ë£Œ (ì›)</label>
                        <input type="number" class="form-input" value="50000">
                    </div>
                    <div class="form-group">
                        <label class="form-label">í¬ë ˆë”§ ë‹¨ê°€ (ì›/í¬ë ˆë”§)</label>
                        <input type="number" class="form-input" value="10">
                    </div>
                </div>

                <!-- ë°ì´í„° ê´€ë¦¬ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ’¾ ë°ì´í„° ê´€ë¦¬</h2>
                    </div>
                    <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                        <button class="section-action" style="background: var(--primary);">ğŸ“¥ ë°ì´í„° ë°±ì—…</button>
                        <button class="section-action" style="background: var(--warning); color: #000;">ğŸ“¤ ë°ì´í„° ë³µì›</button>
                        <button class="section-action" style="background: var(--neutral);">ğŸ“Š ì‚¬ìš© í†µê³„ ë‚´ë³´ë‚´ê¸°</button>
                    </div>
                    <p style="margin-top: 12px; font-size: 12px; color: #6c757d;">
                        ë§ˆì§€ë§‰ ë°±ì—…: 2025-11-24 03:00 (ìë™)
                    </p>
                </div>

                <div style="margin-top: 24px; text-align: right;">
                    <button class="form-btn form-btn-primary" onclick="showToast('ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success')">ì„¤ì • ì €ì¥</button>
                </div>
            </div>

            <!-- Subscription Section -->
            <div id="subscription-section" class="content-view" style="display:none;">
                <div class="content-header">
                    <h1 class="content-title">ğŸ”„ êµ¬ë… ê´€ë¦¬</h1>
                    <p class="content-subtitle">ì„¤ì¹˜ë¹„ ë° ì›” ì‚¬ìš©ë£Œ ê²°ì œ í˜„í™©ì„ ê´€ë¦¬í•˜ì„¸ìš”.</p>
                </div>

                <!-- êµ¬ë… í†µê³„ -->
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-icon">ğŸ‘¥</div>
                        <div class="stat-value">45</div>
                        <div class="stat-label">ì „ì²´ êµ¬ë…ì</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-icon">âœ…</div>
                        <div class="stat-value">42</div>
                        <div class="stat-label">ì •ìƒ êµ¬ë…</div>
                    </div>
                    <div class="stat-card danger">
                        <div class="stat-icon">âš ï¸</div>
                        <div class="stat-value">3</div>
                        <div class="stat-label">ë¯¸ë‚©/ë§Œë£Œ</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-icon">ğŸ’°</div>
                        <div class="stat-value">â‚©2.25M</div>
                        <div class="stat-label">ì´ë²ˆ ë‹¬ ì˜ˆìƒ ìˆ˜ìµ</div>
                    </div>
                </div>

                <!-- ì„¤ì¹˜ë¹„ ê²°ì œ í˜„í™© -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ  ì„¤ì¹˜ë¹„ ê²°ì œ í˜„í™©</h2>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ì‚¬ìš©ì</th>
                                <th>ì„¤ì¹˜ë¹„</th>
                                <th>ê²°ì œë°©ì‹</th>
                                <th>ê²°ì œì¼</th>
                                <th>ìƒíƒœ</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>user@example.com</td>
                                <td>â‚©3,000,000</td>
                                <td>ì¼ì‹œë¶ˆ</td>
                                <td>2025-11-01</td>
                                <td><span class="status-badge active">ì™„ë‚©</span></td>
                                <td><a href="#" class="action-link">ìƒì„¸</a></td>
                            </tr>
                            <tr>
                                <td>test@test.com</td>
                                <td>â‚©3,000,000</td>
                                <td>3íšŒ ë¶„í• </td>
                                <td>2025-10-15</td>
                                <td><span class="status-badge warning" style="background: #fff3cd; color: #856404;">2/3 ì™„ë£Œ</span></td>
                                <td><a href="#" class="action-link">ìƒì„¸</a></td>
                            </tr>
                            <tr>
                                <td>new@company.com</td>
                                <td>â‚©3,000,000</td>
                                <td>ì¼ì‹œë¶ˆ</td>
                                <td>-</td>
                                <td><span class="status-badge pending">ë¯¸ê²°ì œ</span></td>
                                <td>
                                    <a href="#" class="action-link">ê²°ì œìš”ì²­</a>
                                    <a href="#" class="action-link">ìƒì„¸</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- ì›” ì‚¬ìš©ë£Œ í˜„í™© -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ“… ì›” ì‚¬ìš©ë£Œ í˜„í™© (â‚©50,000/ì›”)</h2>
                        <button class="section-action" onclick="sendPaymentReminder()">ë¯¸ë‚©ì ì•Œë¦¼ ë°œì†¡</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ì‚¬ìš©ì</th>
                                <th>êµ¬ë… ì‹œì‘ì¼</th>
                                <th>ê²°ì œì¼</th>
                                <th>ë‹¤ìŒ ê²°ì œ</th>
                                <th>ìë™ê²°ì œ</th>
                                <th>ìƒíƒœ</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>user@example.com</td>
                                <td>2025-11-01</td>
                                <td>ë§¤ì›” 1ì¼</td>
                                <td>2025-12-01</td>
                                <td><span class="status-badge active">ON</span></td>
                                <td><span class="status-badge active">ì •ìƒ</span></td>
                                <td><a href="#" class="action-link">ê´€ë¦¬</a></td>
                            </tr>
                            <tr>
                                <td>test@test.com</td>
                                <td>2025-10-15</td>
                                <td>ë§¤ì›” 15ì¼</td>
                                <td>2025-12-15</td>
                                <td><span class="status-badge active">ON</span></td>
                                <td><span class="status-badge active">ì •ìƒ</span></td>
                                <td><a href="#" class="action-link">ê´€ë¦¬</a></td>
                            </tr>
                            <tr>
                                <td>overdue@company.com</td>
                                <td>2025-09-20</td>
                                <td>ë§¤ì›” 20ì¼</td>
                                <td>2025-11-20 (ì—°ì²´)</td>
                                <td><span class="status-badge" style="background: #e9ecef;">OFF</span></td>
                                <td><span class="status-badge" style="background: #dc3545; color: white;">ë¯¸ë‚© 8ì¼</span></td>
                                <td>
                                    <a href="#" class="action-link">ë…ì´‰</a>
                                    <a href="#" class="action-link">ê´€ë¦¬</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- êµ¬ë… ë§Œë£Œ ì˜ˆì • -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">â° ê°±ì‹ /ë§Œë£Œ ì˜ˆì • (7ì¼ ì´ë‚´)</h2>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ì‚¬ìš©ì</th>
                                <th>ë§Œë£Œì¼</th>
                                <th>ë‚¨ì€ ì¼ìˆ˜</th>
                                <th>ìë™ê°±ì‹ </th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>renewal@test.com</td>
                                <td>2025-11-30</td>
                                <td><span style="color: var(--warning); font-weight: 600;">2ì¼</span></td>
                                <td><span class="status-badge active">ON</span></td>
                                <td><a href="#" class="action-link">í™•ì¸</a></td>
                            </tr>
                            <tr>
                                <td>expire@company.com</td>
                                <td>2025-12-01</td>
                                <td><span style="color: var(--success);">3ì¼</span></td>
                                <td><span class="status-badge" style="background: #e9ecef;">OFF</span></td>
                                <td>
                                    <a href="#" class="action-link">ê°±ì‹ ìš”ì²­</a>
                                    <a href="#" class="action-link">í™•ì¸</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Users Section -->
            <div id="users-section" class="content-view" style="display:none;">
                <div class="content-header">
                    <h1 class="content-title">ğŸ‘¥ íšŒì› ê´€ë¦¬</h1>
                    <p class="content-subtitle">ì „ì²´ íšŒì›ì„ ê´€ë¦¬í•˜ì„¸ìš”.</p>
                </div>

                <!-- íšŒì› í†µê³„ -->
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-icon">ğŸ‘¥</div>
                        <div class="stat-value">245</div>
                        <div class="stat-label">ì „ì²´ íšŒì›</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-value">198</div>
                        <div class="stat-label">í™œì„± íšŒì›</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-value">+12</div>
                        <div class="stat-label">ì´ë²ˆ ì£¼ ê°€ì…</div>
                    </div>
                    <div class="stat-card primary">
                        <div class="stat-value">81%</div>
                        <div class="stat-label">í™œì„±ë¥ </div>
                    </div>
                </div>

                <!-- íšŒì› ëª©ë¡ -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ“‹ íšŒì› ëª©ë¡</h2>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" placeholder="ì´ë©”ì¼ ê²€ìƒ‰..." style="padding: 6px 12px; border: 1px solid var(--border-color); border-radius: 4px;">
                            <button class="section-action">ê²€ìƒ‰</button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ì´ë©”ì¼</th>
                                <th>ì´ë¦„</th>
                                <th>í”Œëœ</th>
                                <th>ìƒíƒœ</th>
                                <th>ê°€ì…ì¼</th>
                                <th>ë§ˆì§€ë§‰ ë¡œê·¸ì¸</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>user@example.com</td>
                                <td>í™ê¸¸ë™</td>
                                <td><span class="status-badge" style="background: #ffd700; color: #000;">Pro</span></td>
                                <td><span class="status-badge active">í™œì„±</span></td>
                                <td>2025-11-01</td>
                                <td>2025-11-24 14:30</td>
                                <td><a href="#" class="action-link" onclick="event.preventDefault(); showUserDetail()">ìƒì„¸</a></td>
                            </tr>
                            <tr>
                                <td>test@test.com</td>
                                <td>ê¹€ì² ìˆ˜</td>
                                <td><span class="status-badge" style="background: #d4edda; color: #155724;">Basic</span></td>
                                <td><span class="status-badge active">í™œì„±</span></td>
                                <td>2025-10-15</td>
                                <td>2025-11-24 12:00</td>
                                <td><a href="#" class="action-link">ìƒì„¸</a></td>
                            </tr>
                            <tr>
                                <td>admin@ssal.com</td>
                                <td>ë°•ì˜í¬</td>
                                <td><span class="status-badge" style="background: #e0e0e0; color: #555;">Free</span></td>
                                <td><span class="status-badge pending">ì •ì§€</span></td>
                                <td>2025-09-20</td>
                                <td>2025-11-20 09:00</td>
                                <td><a href="#" class="action-link">ìƒì„¸</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>

        <!-- Form Modals -->
        <!-- Learning Content Form Modals -->
        <!-- ëŒ€ë¶„ë¥˜ ì¶”ê°€/ìˆ˜ì • -->
        <div id="depth1FormOverlay" class="form-overlay" onclick="if(event.target === this) closeDepth1Form()">
            <div class="form-modal">
                <div class="form-header">ğŸ“ ëŒ€ë¶„ë¥˜ ì¶”ê°€/ìˆ˜ì •</div>
                <form onsubmit="event.preventDefault(); saveDepth1();">
                    <div class="form-group">
                        <label class="form-label">ëŒ€ë¶„ë¥˜ ì œëª©</label>
                        <input type="text" id="depth1Title" class="form-input" placeholder="ì˜ˆ: ê³„ì • ê´€ë¦¬" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="form-btn form-btn-secondary" onclick="closeDepth1Form()">ì·¨ì†Œ</button>
                        <button type="submit" class="form-btn form-btn-primary">ì €ì¥</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- ì¤‘ë¶„ë¥˜ ì¶”ê°€/ìˆ˜ì • -->
        <div id="depth2FormOverlay" class="form-overlay" onclick="if(event.target === this) closeDepth2Form()">
            <div class="form-modal">
                <div class="form-header">ğŸ“‚ ì¤‘ë¶„ë¥˜ ì¶”ê°€/ìˆ˜ì •</div>
                <form onsubmit="event.preventDefault(); saveDepth2();">
                    <div class="form-group">
                        <label class="form-label">ìƒìœ„ ëŒ€ë¶„ë¥˜</label>
                        <input type="text" id="depth2Parent" class="form-input" readonly style="background: #f8f9fa;">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì¤‘ë¶„ë¥˜ ì œëª©</label>
                        <input type="text" id="depth2Title" class="form-input" placeholder="ì˜ˆ: íšŒì›ê°€ì…" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="form-btn form-btn-secondary" onclick="closeDepth2Form()">ì·¨ì†Œ</button>
                        <button type="submit" class="form-btn form-btn-primary">ì €ì¥</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- ì†Œë¶„ë¥˜ ì¶”ê°€/ìˆ˜ì • -->
        <div id="depth3FormOverlay" class="form-overlay" onclick="if(event.target === this) closeDepth3Form()">
            <div class="form-modal">
                <div class="form-header">ğŸ“„ ì†Œë¶„ë¥˜ ì¶”ê°€/ìˆ˜ì •</div>
                <form onsubmit="event.preventDefault(); saveDepth3();">
                    <div class="form-group">
                        <label class="form-label">ìƒìœ„ ì¤‘ë¶„ë¥˜</label>
                        <input type="text" id="depth3Parent" class="form-input" readonly style="background: #f8f9fa;">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì†Œë¶„ë¥˜ ì œëª©</label>
                        <input type="text" id="depth3Title" class="form-input" placeholder="ì˜ˆ: ì´ë©”ì¼ ê°€ì…" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="form-btn form-btn-secondary" onclick="closeDepth3Form()">ì·¨ì†Œ</button>
                        <button type="submit" class="form-btn form-btn-primary">ì €ì¥</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Google Drive ë§í¬ ì—°ê²° -->
        <div id="linkFormOverlay" class="form-overlay" onclick="if(event.target === this) closeLinkForm()">
            <div class="form-modal">
                <div class="form-header">ğŸ”— Google Drive ë§í¬ ì—°ê²°</div>
                <form onsubmit="event.preventDefault(); saveLink();">
                    <div class="form-group">
                        <label class="form-label">ì»¨í…ì¸  ì œëª©</label>
                        <input type="text" id="linkItemTitle" class="form-input" readonly style="background: #f8f9fa;">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Google Drive HTML ê³µìœ  ë§í¬</label>
                        <input type="url" id="googleDriveLink" class="form-input" placeholder="https://drive.google.com/file/d/xxxxx/view" required>
                        <p style="font-size: 11px; color: #6c757d; margin-top: 8px;">
                            ğŸ’¡ Google Driveì—ì„œ HTML íŒŒì¼ â†’ ê³µìœ  â†’ ë§í¬ ë³µì‚¬ í›„ ë¶™ì—¬ë„£ê¸°
                        </p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">í˜„ì¬ ì—°ê²° ìƒíƒœ</label>
                        <div id="currentLinkStatus" style="padding: 10px; background: #f8f9fa; border-radius: 6px; font-size: 13px;">
                            <span class="tree-link-status not-linked">âš ï¸ ë¯¸ì—°ê²°</span>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="form-btn form-btn-secondary" onclick="closeLinkForm()">ì·¨ì†Œ</button>
                        <button type="button" class="form-btn" style="background: var(--danger); color: white;" onclick="removeLink()">ë§í¬ ì‚­ì œ</button>
                        <button type="submit" class="form-btn form-btn-primary">ì €ì¥</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- FAQ Depth1 (ëŒ€ë¶„ë¥˜) ì¶”ê°€/ìˆ˜ì • Modal -->
        <div id="faqDepth1FormOverlay" class="form-overlay" onclick="if(event.target === this) closeFaqDepth1Form()">
            <div class="form-modal">
                <div class="form-header">ğŸ“ FAQ ëŒ€ë¶„ë¥˜ ì¶”ê°€/ìˆ˜ì •</div>
                <form onsubmit="event.preventDefault(); saveFaqDepth1();">
                    <div class="form-group">
                        <label class="form-label">ëŒ€ë¶„ë¥˜ ì œëª©</label>
                        <input type="text" id="faqDepth1Title" class="form-input" placeholder="ì˜ˆ: ë¡œê·¸ì¸/íšŒì›ê°€ì…" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="form-btn form-btn-secondary" onclick="closeFaqDepth1Form()">ì·¨ì†Œ</button>
                        <button type="submit" class="form-btn form-btn-primary">ì €ì¥</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- FAQ Depth2 (ì¤‘ë¶„ë¥˜) ì¶”ê°€/ìˆ˜ì • Modal -->
        <div id="faqDepth2FormOverlay" class="form-overlay" onclick="if(event.target === this) closeFaqDepth2Form()">
            <div class="form-modal">
                <div class="form-header">ğŸ“‚ FAQ ì¤‘ë¶„ë¥˜ ì¶”ê°€/ìˆ˜ì •</div>
                <form onsubmit="event.preventDefault(); saveFaqDepth2();">
                    <div class="form-group">
                        <label class="form-label">ìƒìœ„ ëŒ€ë¶„ë¥˜</label>
                        <input type="text" id="faqDepth2Parent" class="form-input" readonly style="background: #f8f9fa;">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì¤‘ë¶„ë¥˜ ì œëª©</label>
                        <input type="text" id="faqDepth2Title" class="form-input" placeholder="ì˜ˆ: ê³„ì • ê´€ë¦¬" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="form-btn form-btn-secondary" onclick="closeFaqDepth2Form()">ì·¨ì†Œ</button>
                        <button type="submit" class="form-btn form-btn-primary">ì €ì¥</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- FAQ Depth3 (ì†Œë¶„ë¥˜/ì§ˆë¬¸) ì¶”ê°€/ìˆ˜ì • Modal -->
        <div id="faqDepth3FormOverlay" class="form-overlay" onclick="if(event.target === this) closeFaqDepth3Form()">
            <div class="form-modal" style="max-width: 700px;">
                <div class="form-header">ğŸ“„ FAQ ì†Œë¶„ë¥˜ (ì§ˆë¬¸/ë‹µë³€) ì¶”ê°€/ìˆ˜ì •</div>
                <form onsubmit="event.preventDefault(); saveFaqDepth3();">
                    <div class="form-group">
                        <label class="form-label">ìƒìœ„ ëŒ€ë¶„ë¥˜</label>
                        <input type="text" id="faqDepth3Depth1" class="form-input" readonly style="background: #f8f9fa;">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ìƒìœ„ ì¤‘ë¶„ë¥˜</label>
                        <input type="text" id="faqDepth3Depth2" class="form-input" readonly style="background: #f8f9fa;">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì†Œë¶„ë¥˜ ì œëª© (ì§ˆë¬¸)</label>
                        <input type="text" id="faqDepth3Title" class="form-input" placeholder="ì˜ˆ: ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •" required>
                        <p style="font-size: 11px; color: #6c757d; margin-top: 6px;">
                            ğŸ’¡ ì‚¬ìš©ìê°€ ë³¼ ì§ˆë¬¸ì„ ê°„ê²°í•˜ê²Œ ì…ë ¥í•˜ì„¸ìš”
                        </p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ë‹µë³€ ë‚´ìš©</label>
                        <textarea id="faqAnswer" class="form-textarea" placeholder="ë‹µë³€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”. HTML íƒœê·¸ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.&#10;&#10;ì˜ˆì‹œ:&#10;<p>ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë°©ë²•:</p>&#10;<ol>&#10;<li>ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ 'ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°' í´ë¦­</li>&#10;<li>ê°€ì…í•œ ì´ë©”ì¼ ì£¼ì†Œ ì…ë ¥</li>&#10;<li>ì´ë©”ì¼ë¡œ ë°›ì€ ë§í¬ í´ë¦­</li>&#10;</ol>" rows="10" required></textarea>
                        <p style="font-size: 11px; color: #6c757d; margin-top: 6px;">
                            ğŸ’¡ HTML íƒœê·¸ ì‚¬ìš© ê°€ëŠ¥: &lt;p&gt;, &lt;ul&gt;, &lt;ol&gt;, &lt;li&gt;, &lt;strong&gt; ë“±<br>
                            âš ï¸ XSS ë°©ì§€ë¥¼ ìœ„í•´ DOMPurifyë¡œ ìë™ ì •í™”ë©ë‹ˆë‹¤
                        </p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì„¤ëª… (ì„ íƒ)</label>
                        <input type="text" id="faqDescription" class="form-input" placeholder="ì˜ˆ: ë¹„ë°€ë²ˆí˜¸ë¥¼ ìŠì–´ë²„ë ¸ì„ ë•Œ ì¬ì„¤ì •í•˜ëŠ” ë°©ë²•">
                    </div>
                    <div class="form-actions">
                        <button type="button" class="form-btn form-btn-secondary" onclick="closeFaqDepth3Form()">ì·¨ì†Œ</button>
                        <button type="submit" class="form-btn form-btn-primary">ì €ì¥</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Inquiry Answer Form Modal -->
        <div id="inquiryFormOverlay" class="form-overlay" onclick="if(event.target === this) closeInquiryForm()">
            <div class="form-modal">
                <div class="form-header">ğŸ’¬ ë¬¸ì˜ ë‹µë³€ ì‘ì„±</div>
                <div style="margin-bottom: 24px; padding: 16px; background: #f8f9fa; border-radius: 8px;">
                    <div style="font-size: 13px; font-weight: 600; color: #495057; margin-bottom: 8px;">ì§ˆë¬¸ ë‚´ìš©:</div>
                    <div style="font-size: 14px; color: #212529;">API ì‚¬ìš© ë°©ë²•ì´ ê¶ê¸ˆí•©ë‹ˆë‹¤</div>
                    <div style="margin-top: 12px; font-size: 12px; color: #6c757d;">
                        <span>ì‚¬ìš©ì: user@example.com</span> |
                        <span>ì ‘ìˆ˜ì¼: 2025-11-24 14:30</span>
                    </div>
                </div>
                <form onsubmit="event.preventDefault(); saveInquiryAnswer();">
                    <div class="form-group">
                        <label class="form-label">ë‹µë³€ ë‚´ìš©</label>
                        <textarea class="form-textarea" style="min-height: 200px;" placeholder="ë‹µë³€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..." required></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="form-btn form-btn-secondary" onclick="closeInquiryForm()">ì·¨ì†Œ</button>
                        <button type="submit" class="form-btn form-btn-primary">ë‹µë³€ ë³´ë‚´ê¸°</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Credit Form Modal -->
        <div id="creditFormOverlay" class="form-overlay" onclick="if(event.target === this) closeCreditForm()">
            <div class="form-modal">
                <div class="form-header">ğŸª™ í¬ë ˆë”§ ì¶©ì „/ì°¨ê°</div>
                <form onsubmit="event.preventDefault(); saveCredit();">
                    <div class="form-group">
                        <label class="form-label">ì‚¬ìš©ì ì´ë©”ì¼</label>
                        <input type="email" class="form-input" placeholder="user@example.com" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì‘ì—… ìœ í˜•</label>
                        <select class="form-select" required>
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="charge">ì¶©ì „ (+)</option>
                            <option value="deduct">ì°¨ê° (-)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ê¸ˆì•¡</label>
                        <input type="number" class="form-input" placeholder="10000" min="1" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì‚¬ìœ </label>
                        <textarea class="form-textarea" style="min-height: 80px;" placeholder="ì¶©ì „/ì°¨ê° ì‚¬ìœ ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." required></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="form-btn form-btn-secondary" onclick="closeCreditForm()">ì·¨ì†Œ</button>
                        <button type="submit" class="form-btn form-btn-primary">ì ìš©</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- User Detail Modal -->
        <div id="userDetailOverlay" class="form-overlay" onclick="if(event.target === this) closeUserDetail()">
            <div class="form-modal">
                <div class="form-header">ğŸ‘¥ íšŒì› ìƒì„¸ ì •ë³´</div>
                <div style="margin-bottom: 24px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                        <div>
                            <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px;">ì´ë©”ì¼</div>
                            <div style="font-size: 14px; font-weight: 600;">user@example.com</div>
                        </div>
                        <div>
                            <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px;">ì´ë¦„</div>
                            <div style="font-size: 14px; font-weight: 600;">í™ê¸¸ë™</div>
                        </div>
                        <div>
                            <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px;">ê°€ì…ì¼</div>
                            <div style="font-size: 14px;">2025-11-01</div>
                        </div>
                        <div>
                            <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px;">ë§ˆì§€ë§‰ ë¡œê·¸ì¸</div>
                            <div style="font-size: 14px;">2025-11-24 14:30</div>
                        </div>
                        <div>
                            <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px;">í”Œëœ</div>
                            <div><span class="status-badge" style="background: #ffd700; color: #000;">Pro</span></div>
                        </div>
                        <div>
                            <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px;">í¬ë ˆë”§ ì”ì•¡</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--success);">25,000 C</div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">íšŒì› ìƒíƒœ</label>
                    <select class="form-select">
                        <option value="active" selected>í™œì„±</option>
                        <option value="suspended">ì •ì§€</option>
                        <option value="withdrawn">íƒˆí‡´</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="form-btn form-btn-secondary" onclick="closeUserDetail()">ë‹«ê¸°</button>
                    <button type="button" class="form-btn form-btn-primary" onclick="saveUserStatus()">ìƒíƒœ ì €ì¥</button>
                </div>
            </div>
        </div>

        <!-- Payment Detail Modal -->
        <div id="paymentDetailOverlay" class="form-overlay" onclick="if(event.target === this) closePaymentDetail()">
            <div class="form-modal">
                <div class="form-header">ğŸ’³ ê²°ì œ ìƒì„¸</div>
                <div style="margin-bottom: 24px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                        <div>
                            <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px;">ê²°ì œ ID</div>
                            <div style="font-size: 14px; font-weight: 600;">PAY-2025-001</div>
                        </div>
                        <div>
                            <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px;">ì‚¬ìš©ì</div>
                            <div style="font-size: 14px;">user@example.com</div>
                        </div>
                        <div>
                            <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px;">ê¸ˆì•¡</div>
                            <div style="font-size: 18px; font-weight: 700; color: var(--success);">â‚©50,000</div>
                        </div>
                        <div>
                            <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px;">ê²°ì œ ìˆ˜ë‹¨</div>
                            <div style="font-size: 14px;">ì‹ ìš©ì¹´ë“œ</div>
                        </div>
                        <div>
                            <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px;">ê²°ì œì¼</div>
                            <div style="font-size: 14px;">2025-11-24 15:30</div>
                        </div>
                        <div>
                            <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px;">ìƒíƒœ</div>
                            <div><span class="status-badge answered">ì™„ë£Œ</span></div>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="form-btn" style="background: var(--danger); color: white;" onclick="processRefund()">í™˜ë¶ˆ ì²˜ë¦¬</button>
                    <button type="button" class="form-btn form-btn-secondary" onclick="closePaymentDetail()">ë‹«ê¸°</button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-links">
                <a href="#" class="footer-link">ì´ìš©ì•½ê´€</a>
                <a href="#" class="footer-link">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
            </div>
            <div class="footer-copyright">
                <span>Â© 2025 SSAL Works, All Rights Reserved</span>
            </div>
            <a href="prototype_index_ìµœì¢…ê°œì„ .html" class="home-link">Home</a>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="spinner"></div>
        <div class="loading-text">ë¡œë”© ì¤‘...</div>
    </div>

    <script>
        // ========== Toast Notification System ==========
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;

            const icon = document.createElement('div');
            icon.className = 'toast-icon';
            icon.textContent = type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : type === 'warning' ? 'âš ï¸' : 'â„¹ï¸';

            const messageDiv = document.createElement('div');
            messageDiv.className = 'toast-message';
            messageDiv.textContent = message;

            toast.appendChild(icon);
            toast.appendChild(messageDiv);
            document.body.appendChild(toast);

            setTimeout(() => toast.classList.add('show'), 10);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // ========== Loading Overlay ==========
        function showLoading() {
            document.getElementById('loadingOverlay').classList.add('show');
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').classList.remove('show');
        }

        // ========== XSS Protection - Sanitization ==========
        /**
         * Sanitize user input to prevent XSS attacks
         * Uses DOMPurify library to clean potentially malicious content
         * @param {string} input - User input to sanitize
         * @returns {string} - Sanitized safe HTML
         */
        function sanitizeInput(input) {
            if (!input) return '';
            // DOMPurify configuration for strict cleaning
            const config = {
                ALLOWED_TAGS: ['b', 'i', 'em', 'strong', 'u', 'br', 'p', 'ul', 'ol', 'li'],
                ALLOWED_ATTR: [],
                KEEP_CONTENT: true
            };
            return DOMPurify.sanitize(input, config);
        }

        /**
         * Sanitize plain text (removes all HTML tags)
         * @param {string} input - User input
         * @returns {string} - Plain text only
         */
        function sanitizePlainText(input) {
            if (!input) return '';
            return DOMPurify.sanitize(input, { ALLOWED_TAGS: [], KEEP_CONTENT: true });
        }

        // ========== Form Validation ==========
        function validateEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        function validateAmount(amount) {
            const num = parseInt(amount);
            return num >= 1000 && num <= 1000000;
        }

        function validateText(text, minLength = 3, maxLength = 200) {
            return text.length >= minLength && text.length <= maxLength;
        }

        // Show Section
        function showSection(section, event) {
            // Hide all sections
            document.querySelectorAll('.content-view').forEach(view => {
                view.style.display = 'none';
            });

            // Remove active from all menu items
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });

            // Show selected section
            const sectionElement = document.getElementById(section + '-section');
            if (sectionElement) {
                sectionElement.style.display = 'block';
            }

            // Add active to clicked menu item (if event is provided)
            if (event && event.currentTarget) {
                event.currentTarget.classList.add('active');
            }

            // ê³µì§€ì‚¬í•­ ì„¹ì…˜ì¼ ë•Œ ë°ì´í„° ë¡œë“œ
            if (section === 'notice') {
                loadNotices();
            }

            // í•™ìŠµ ì½˜í…ì¸  ì„¹ì…˜ì¼ ë•Œ ë°ì´í„° ë¡œë“œ
            if (section === 'learning') {
                loadLearningContents();
            }

            // FAQ ì„¹ì…˜ì¼ ë•Œ ë°ì´í„° ë¡œë“œ
            if (section === 'faq') {
                loadFaqContents();
            }
        }

        // Logout
        function logout() {
            if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                window.location.href = 'prototype_index_ìµœì¢…ê°œì„ .html';
            }
        }

        // ========== Learning Content Tree Functions ==========
        function toggleTreeItem(element) {
            const parent = element.parentElement;
            const children = parent.querySelector('.tree-children');
            const arrow = element.querySelector('.tree-arrow');

            if (children) {
                if (children.style.display === 'none') {
                    children.style.display = 'block';
                    arrow.classList.add('open');
                } else {
                    children.style.display = 'none';
                    arrow.classList.remove('open');
                }
            }
        }

        // ëŒ€ë¶„ë¥˜ ì¶”ê°€/ìˆ˜ì •
        function showAddDepth1Form() {
            document.getElementById('depth1Title').value = '';
            document.getElementById('depth1FormOverlay').style.display = 'flex';
        }


        function closeDepth1Form() {
            document.getElementById('depth1FormOverlay').style.display = 'none';
        }

        function saveDepth1() {
            const title = document.getElementById('depth1Title').value;
            if (!validateText(title, 2, 50)) {
                showToast('ì œëª©ì€ 2~50ìë¡œ ì…ë ¥í•˜ì„¸ìš”.', 'error');
                return;
            }
            // ğŸ”’ XSS Protection: Sanitize input before saving
            const safeTitle = sanitizePlainText(title);

            showLoading();
            setTimeout(() => {
                hideLoading();
                showToast('ëŒ€ë¶„ë¥˜ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                closeDepth1Form();
                // TODO: Send safeTitle to backend API
                console.log('Sanitized title:', safeTitle);
            }, 500);
        }



        function closeDepth2Form() {
            document.getElementById('depth2FormOverlay').style.display = 'none';
        }

        function saveDepth2() {
            const title = document.getElementById('depth2Title').value;
            if (!validateText(title, 2, 50)) {
                showToast('ì œëª©ì€ 2~50ìë¡œ ì…ë ¥í•˜ì„¸ìš”.', 'error');
                return;
            }
            // ğŸ”’ XSS Protection: Sanitize input before saving
            const safeTitle = sanitizePlainText(title);

            showLoading();
            setTimeout(() => {
                hideLoading();
                showToast('ì¤‘ë¶„ë¥˜ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                closeDepth2Form();
                // TODO: Send safeTitle to backend API
                console.log('Sanitized title:', safeTitle);
            }, 500);
        }

        function closeDepth3Form() {
            document.getElementById('depth3FormOverlay').style.display = 'none';
        }

        function saveDepth3() {
            const title = document.getElementById('depth3Title').value;
            if (!validateText(title, 2, 50)) {
                showToast('ì œëª©ì€ 2~50ìë¡œ ì…ë ¥í•˜ì„¸ìš”.', 'error');
                return;
            }
            // ğŸ”’ XSS Protection: Sanitize input before saving
            const safeTitle = sanitizePlainText(title);

            showLoading();
            setTimeout(() => {
                hideLoading();
                showToast('ì†Œë¶„ë¥˜ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                closeDepth3Form();
                // TODO: Send safeTitle to backend API
                console.log('Sanitized title:', safeTitle);
            }, 500);
        }

        // ë§í¬ ì—°ê²°
        function editLink(title) {
            document.getElementById('linkItemTitle').value = title;
            document.getElementById('googleDriveLink').value = '';
            document.getElementById('linkFormOverlay').style.display = 'flex';
        }

        function closeLinkForm() {
            document.getElementById('linkFormOverlay').style.display = 'none';
        }

        function saveLink() {
            const link = document.getElementById('googleDriveLink').value;
            if (!link.includes('drive.google.com')) {
                showToast('ìœ íš¨í•œ Google Drive ë§í¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”.', 'error');
                return;
            }
            // ğŸ”’ XSS Protection: Sanitize URL
            const safeLink = sanitizePlainText(link);

            showLoading();
            setTimeout(() => {
                hideLoading();
                showToast('ë§í¬ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                closeLinkForm();
                // TODO: Send safeLink to backend API
                console.log('Sanitized link:', safeLink);
            }, 500);
        }

        function removeLink() {
            if (confirm('ë§í¬ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                showLoading();
                setTimeout(() => {
                    hideLoading();
                    showToast('ë§í¬ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
                    closeLinkForm();
                }, 500);
            }
        }


        // í•­ëª© ìˆœì„œ ë³€ê²½
        function moveItem(direction) {
            showToast(`í•­ëª©ì´ ${direction === 'up' ? 'ìœ„ë¡œ' : 'ì•„ë˜ë¡œ'} ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'info');
        }

        // FAQ Form Functions
        function showFaqForm() {
            document.getElementById('faqFormOverlay').style.display = 'flex';
        }

        function closeFaqForm() {
            document.getElementById('faqFormOverlay').style.display = 'none';
        }

        function saveFaq() {
            const title = document.querySelector('#faqFormOverlay .form-input').value;
            const content = document.querySelector('#faqFormOverlay .form-textarea').value;

            // ìœ íš¨ì„± ê²€ì‚¬
            if (!validateText(title, 3, 200)) {
                showToast('ì œëª©ì€ 3~200ìë¡œ ì…ë ¥í•˜ì„¸ìš”.', 'error');
                return;
            }

            if (!validateText(content, 10, 2000)) {
                showToast('ë‹µë³€ì€ 10~2000ìë¡œ ì…ë ¥í•˜ì„¸ìš”.', 'error');
                return;
            }

            // ğŸ”’ XSS Protection: Sanitize FAQ content (allow basic formatting)
            const safeTitle = sanitizePlainText(title);
            const safeContent = sanitizeInput(content); // Allow basic HTML tags

            showLoading();
            setTimeout(() => {
                hideLoading();
                showToast('FAQê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                closeFaqForm();
                // TODO: Send safeTitle and safeContent to backend API
                console.log('Sanitized FAQ:', { title: safeTitle, content: safeContent });
            }, 800);
        }

        // Inquiry Form Functions
        function showInquiryForm() {
            document.getElementById('inquiryFormOverlay').style.display = 'flex';
        }

        function closeInquiryForm() {
            document.getElementById('inquiryFormOverlay').style.display = 'none';
        }

        function saveInquiryAnswer() {
            const answer = document.querySelector('#inquiryFormOverlay .form-textarea').value;

            // ìœ íš¨ì„± ê²€ì‚¬
            if (!validateText(answer, 10, 2000)) {
                showToast('ë‹µë³€ì€ 10~2000ìë¡œ ì…ë ¥í•˜ì„¸ìš”.', 'error');
                return;
            }

            // ğŸ”’ XSS Protection: Sanitize inquiry answer (allow basic formatting)
            const safeAnswer = sanitizeInput(answer);

            showLoading();
            setTimeout(() => {
                hideLoading();
                showToast('ë‹µë³€ì´ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                closeInquiryForm();
                // TODO: Send safeAnswer to backend API
                console.log('Sanitized answer:', safeAnswer);
            }, 800);
        }

        // Credit Form Functions
        function showCreditForm() {
            document.getElementById('creditFormOverlay').style.display = 'flex';
        }

        function closeCreditForm() {
            document.getElementById('creditFormOverlay').style.display = 'none';
        }

        function saveCredit() {
            const email = document.querySelector('#creditFormOverlay input[type="email"]').value;
            const amount = document.querySelector('#creditFormOverlay input[type="number"]').value;
            const reason = document.querySelector('#creditFormOverlay .form-textarea').value;

            // ìœ íš¨ì„± ê²€ì‚¬
            if (!validateEmail(email)) {
                showToast('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.', 'error');
                return;
            }

            if (!validateAmount(amount)) {
                showToast('ê¸ˆì•¡ì€ 1,000 ~ 1,000,000 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤.', 'error');
                return;
            }

            if (!validateText(reason, 10, 500)) {
                showToast('ì‚¬ìœ ëŠ” 10~500ìë¡œ ì…ë ¥í•˜ì„¸ìš”.', 'error');
                return;
            }

            // ğŸ”’ XSS Protection: Sanitize credit transaction data
            const safeEmail = sanitizePlainText(email);
            const safeReason = sanitizePlainText(reason);

            showLoading();
            setTimeout(() => {
                hideLoading();
                showToast('í¬ë ˆë”§ì´ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                closeCreditForm();
                // TODO: Send sanitized data to backend API
                console.log('Sanitized credit:', { email: safeEmail, amount, reason: safeReason });
            }, 800);
        }

        // User Detail Functions
        function showUserDetail() {
            document.getElementById('userDetailOverlay').style.display = 'flex';
        }

        function closeUserDetail() {
            document.getElementById('userDetailOverlay').style.display = 'none';
        }

        function saveUserStatus() {
            showLoading();
            setTimeout(() => {
                hideLoading();
                showToast('íšŒì› ìƒíƒœê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                closeUserDetail();
            }, 800);
        }

        // Payment Detail Functions
        function showPaymentDetail() {
            document.getElementById('paymentDetailOverlay').style.display = 'flex';
        }

        function closePaymentDetail() {
            document.getElementById('paymentDetailOverlay').style.display = 'none';
        }

        function processRefund() {
            if (confirm('ì •ë§ë¡œ í™˜ë¶ˆ ì²˜ë¦¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                showLoading();
                setTimeout(() => {
                    hideLoading();
                    showToast('í™˜ë¶ˆ ì²˜ë¦¬ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                    closePaymentDetail();
                }, 800);
            }
        }

        // ================================================================
        // Admin Home Dashboard - Chart Initialization
        // ================================================================

        // Chart.js ì°¨íŠ¸ ì´ˆê¸°í™”
        function initializeAdminHomeCharts() {
            // íšŒì› ê°€ì… ì¶”ì´ ì°¨íŠ¸ (ë¼ì¸ ì°¨íŠ¸)
            const memberSignupCtx = document.getElementById('memberSignupChart');
            if (memberSignupCtx) {
                new Chart(memberSignupCtx, {
                    type: 'line',
                    data: {
                        labels: ['11/22', '11/23', '11/24', '11/25', '11/26', '11/27', '11/28'],
                        datasets: [{
                            label: 'ì‹ ê·œ ê°€ì…',
                            data: [15, 18, 12, 22, 19, 25, 20],
                            borderColor: '#6B5CCC',
                            backgroundColor: 'rgba(107, 92, 204, 0.1)',
                            tension: 0.4,
                            fill: true,
                            pointRadius: 5,
                            pointBackgroundColor: '#6B5CCC',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2,
                            pointHoverRadius: 7
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                padding: 12,
                                titleFont: {
                                    size: 13,
                                    weight: 'bold'
                                },
                                bodyFont: {
                                    size: 12
                                },
                                callbacks: {
                                    label: function(context) {
                                        return 'ì‹ ê·œ ê°€ì…: ' + context.parsed.y + 'ëª…';
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    font: {
                                        size: 11
                                    },
                                    callback: function(value) {
                                        return value + 'ëª…';
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                }
                            },
                            x: {
                                ticks: {
                                    font: {
                                        size: 11
                                    }
                                },
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }

            // ë§¤ì¶œ ì¶”ì´ ì°¨íŠ¸ (ë§‰ëŒ€ ì°¨íŠ¸)
            const revenueCtx = document.getElementById('revenueChart');
            if (revenueCtx) {
                new Chart(revenueCtx, {
                    type: 'bar',
                    data: {
                        labels: ['11ì›” 1ì£¼', '11ì›” 2ì£¼', '11ì›” 3ì£¼', '11ì›” 4ì£¼'],
                        datasets: [{
                            label: 'ë§¤ì¶œ',
                            data: [1200000, 1450000, 1380000, 1650000],
                            backgroundColor: [
                                'rgba(107, 92, 204, 0.8)',
                                'rgba(107, 92, 204, 0.8)',
                                'rgba(107, 92, 204, 0.8)',
                                'rgba(204, 120, 92, 0.8)'
                            ],
                            borderColor: [
                                '#6B5CCC',
                                '#6B5CCC',
                                '#6B5CCC',
                                '#CC785C'
                            ],
                            borderWidth: 2,
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                padding: 12,
                                titleFont: {
                                    size: 13,
                                    weight: 'bold'
                                },
                                bodyFont: {
                                    size: 12
                                },
                                callbacks: {
                                    label: function(context) {
                                        return 'ë§¤ì¶œ: â‚©' + context.parsed.y.toLocaleString();
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    font: {
                                        size: 11
                                    },
                                    callback: function(value) {
                                        return 'â‚©' + (value / 1000000).toFixed(1) + 'M';
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                }
                            },
                            x: {
                                ticks: {
                                    font: {
                                        size: 11
                                    }
                                },
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì°¨íŠ¸ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            initializeAdminHomeCharts();
        });

        // ========== Supabase ì—°ê²° ==========
        const SUPABASE_URL = 'https://zwjmfewyshhwpgwdtrus.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3am1mZXd5c2hod3Bnd2R0cnVzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1NzE1NTEsImV4cCI6MjA3OTE0NzU1MX0.AJy34h5VR8QS6WFEcUcBeJJu8I3bBQ6UCk1I84Wb7y4';

        // Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
        let supabaseClient;

        // í˜ì´ì§€ ë¡œë“œ í›„ ì´ˆê¸°í™”
        if (typeof supabase !== 'undefined') {
            supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            console.log('âœ… Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” ì™„ë£Œ');
        } else {
            console.error('âŒ Supabase ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
        }

        // ========== ê³µì§€ì‚¬í•­ CRUD í•¨ìˆ˜ ==========

        /**
         * ê³µì§€ì‚¬í•­ ëª©ë¡ ë¡œë“œ
         */
        async function loadNotices() {
            console.log('ğŸ“‹ loadNotices í˜¸ì¶œë¨');
            console.log('  - Supabase Client:', supabaseClient ? 'âœ… ì´ˆê¸°í™”ë¨' : 'âŒ ì—†ìŒ');

            try {
                showLoading();

                if (!supabaseClient) {
                    throw new Error('Supabase í´ë¼ì´ì–¸íŠ¸ê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                }

                console.log('ğŸ“¤ Supabase SELECT ìš”ì²­ ì „ì†¡ ì¤‘...');

                const { data, error } = await supabaseClient
                    .from('notices')
                    .select('*')
                    .order('created_at', { ascending: false });

                console.log('ğŸ“¥ Supabase ì‘ë‹µ:', { count: data?.length, error });

                if (error) throw error;

                console.log('âœ… ê³µì§€ì‚¬í•­ ë¡œë“œ ì„±ê³µ:', data.length, 'ê°œ');
                renderNoticeTable(data);
                updateNoticeStats(data);

                hideLoading();
            } catch (error) {
                console.error('âŒ ê³µì§€ì‚¬í•­ ë¡œë“œ ì˜¤ë¥˜:', error);
                showToast('ê³µì§€ì‚¬í•­ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                hideLoading();
            }
        }

        /**
         * ê³µì§€ì‚¬í•­ í…Œì´ë¸” ë Œë”ë§
         */
        function renderNoticeTable(notices) {
            const tbody = document.getElementById('noticesTableBody');
            if (!tbody) {
                console.error('noticesTableBodyë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }

            if (!notices || notices.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align:center; padding: 40px;">ë“±ë¡ëœ ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>';
                return;
            }

            tbody.innerHTML = notices.map(notice => {
                const importanceBadge = notice.important
                    ? '<span class="status-badge" style="background: #dc3545; color: white;">ì¤‘ìš”</span>'
                    : '<span class="status-badge" style="background: #6c757d; color: white;">ì¼ë°˜</span>';

                const createdDate = new Date(notice.created_at).toLocaleDateString('ko-KR');
                const safeTitle = sanitizePlainText(notice.title);
                const escapedTitle = safeTitle.replace(/'/g, "\\'");

                return `
                    <tr data-notice-id="${notice.id}">
                        <td>${importanceBadge}</td>
                        <td>${safeTitle}</td>
                        <td>${createdDate}</td>
                        <td><span class="status-badge active">ê²Œì‹œì¤‘</span></td>
                        <td>-</td>
                        <td>
                            <a href="#" class="action-link" onclick="event.preventDefault(); editNotice('${notice.id}')">ìˆ˜ì •</a>
                            <a href="#" class="action-link" style="color: var(--danger);" onclick="event.preventDefault(); deleteNotice('${notice.id}', '${escapedTitle}')">ì‚­ì œ</a>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        /**
         * ê³µì§€ì‚¬í•­ í†µê³„ ì—…ë°ì´íŠ¸
         */
        function updateNoticeStats(notices) {
            const totalCount = notices.length;
            const importantCount = notices.filter(n => n.important).length;

            const totalElem = document.getElementById('noticeCountTotal');
            const publishedElem = document.getElementById('noticeCountPublished');
            const importantElem = document.getElementById('noticeCountImportant');

            if (totalElem) totalElem.textContent = totalCount;
            if (publishedElem) publishedElem.textContent = totalCount; // ê²Œì‹œì¤‘ (ì „ì²´)
            if (importantElem) importantElem.textContent = importantCount;
        }

        // í˜„ì¬ ìˆ˜ì • ì¤‘ì¸ ê³µì§€ì‚¬í•­ ID
        let currentEditingNoticeId = null;

        /**
         * ìƒˆ ê³µì§€ì‚¬í•­ ì¶”ê°€ í¼ í‘œì‹œ
         */
        function showNoticeForm() {
            console.log('ğŸ“ showNoticeForm í˜¸ì¶œë¨');

            // ëª¨ë‹¬ ì´ˆê¸°í™”
            currentEditingNoticeId = null;
            document.getElementById('noticeModalTitle').textContent = 'ğŸ“ ê³µì§€ì‚¬í•­ ì‘ì„±';
            document.getElementById('noticeTitle').value = '';
            document.getElementById('noticeContent').value = '';
            document.querySelector('input[name="importance"][value="normal"]').checked = true;

            // ëª¨ë‹¬ í‘œì‹œ
            const modal = document.getElementById('noticeModal');
            modal.style.display = 'flex';
        }

        /**
         * ê³µì§€ì‚¬í•­ ëª¨ë‹¬ ë‹«ê¸°
         */
        function closeNoticeModal() {
            document.getElementById('noticeModal').style.display = 'none';
            currentEditingNoticeId = null;
        }

        /**
         * ê³µì§€ì‚¬í•­ í¼ ì œì¶œ ì²˜ë¦¬
         */
        function handleNoticeSubmit(event) {
            event.preventDefault();

            const title = document.getElementById('noticeTitle').value.trim();
            const content = document.getElementById('noticeContent').value.trim();
            const important = document.querySelector('input[name="importance"]:checked').value === 'important';

            console.log('í¼ ì œì¶œ:', { title, content, important, editingId: currentEditingNoticeId });

            if (currentEditingNoticeId) {
                // ìˆ˜ì • ëª¨ë“œ
                updateNotice(currentEditingNoticeId, title, content, important);
            } else {
                // ìƒì„± ëª¨ë“œ
                createNotice(title, content, important);
            }

            closeNoticeModal();
        }

        /**
         * ê³µì§€ì‚¬í•­ ìƒì„±
         */
        async function createNotice(title, content, important) {
            console.log('ğŸš€ createNotice í˜¸ì¶œë¨');
            console.log('  - ì œëª©:', title);
            console.log('  - ë‚´ìš©:', content);
            console.log('  - ì¤‘ìš”:', important);
            console.log('  - Supabase Client:', supabaseClient ? 'âœ… ì´ˆê¸°í™”ë¨' : 'âŒ ì—†ìŒ');

            try {
                showLoading();

                if (!supabaseClient) {
                    throw new Error('Supabase í´ë¼ì´ì–¸íŠ¸ê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                }

                console.log('ğŸ“¤ Supabase INSERT ìš”ì²­ ì „ì†¡ ì¤‘...');

                const { data, error } = await supabaseClient
                    .from('notices')
                    .insert([
                        {
                            title: title,
                            content: content,
                            important: important
                        }
                    ])
                    .select();

                console.log('ğŸ“¥ Supabase ì‘ë‹µ:', { data, error });

                if (error) throw error;

                console.log('âœ… ê³µì§€ì‚¬í•­ ìƒì„± ì„±ê³µ:', data);
                showToast('ê³µì§€ì‚¬í•­ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                loadNotices(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨

                hideLoading();
            } catch (error) {
                console.error('âŒ ê³µì§€ì‚¬í•­ ìƒì„± ì˜¤ë¥˜:', error);
                showToast('ê³µì§€ì‚¬í•­ ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                hideLoading();
            }
        }

        /**
         * ê³µì§€ì‚¬í•­ ìˆ˜ì • í¼ í‘œì‹œ
         */
        async function editNotice(noticeId) {
            console.log('âœï¸  editNotice í˜¸ì¶œë¨, ID:', noticeId);

            try {
                showLoading();

                // ê¸°ì¡´ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                const { data: existingNotice, error: fetchError } = await supabaseClient
                    .from('notices')
                    .select('*')
                    .eq('id', noticeId)
                    .single();

                if (fetchError) throw fetchError;

                console.log('ê¸°ì¡´ ë°ì´í„°:', existingNotice);

                hideLoading();

                // ëª¨ë‹¬ì— ê¸°ì¡´ ë°ì´í„° ì±„ìš°ê¸°
                currentEditingNoticeId = noticeId;
                document.getElementById('noticeModalTitle').textContent = 'âœï¸ ê³µì§€ì‚¬í•­ ìˆ˜ì •';
                document.getElementById('noticeTitle').value = existingNotice.title;
                document.getElementById('noticeContent').value = existingNotice.content;

                if (existingNotice.important) {
                    document.querySelector('input[name="importance"][value="important"]').checked = true;
                } else {
                    document.querySelector('input[name="importance"][value="normal"]').checked = true;
                }

                // ëª¨ë‹¬ í‘œì‹œ
                document.getElementById('noticeModal').style.display = 'flex';

            } catch (error) {
                console.error('âŒ ê³µì§€ì‚¬í•­ ì¡°íšŒ ì˜¤ë¥˜:', error);
                showToast('ê³µì§€ì‚¬í•­ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                hideLoading();
            }
        }

        /**
         * ê³µì§€ì‚¬í•­ ìˆ˜ì • (ì‹¤ì œ ì—…ë°ì´íŠ¸)
         */
        async function updateNotice(noticeId, title, content, important) {
            console.log('ğŸ”„ updateNotice í˜¸ì¶œë¨');
            console.log('  - ID:', noticeId);
            console.log('  - ì œëª©:', title);
            console.log('  - ë‚´ìš©:', content);
            console.log('  - ì¤‘ìš”:', important);

            try {
                showLoading();

                const { error } = await supabaseClient
                    .from('notices')
                    .update({
                        title: title,
                        content: content,
                        important: important,
                        updated_at: new Date().toISOString()
                    })
                    .eq('id', noticeId);

                if (error) throw error;

                console.log('âœ… ê³µì§€ì‚¬í•­ ìˆ˜ì • ì„±ê³µ');
                showToast('ê³µì§€ì‚¬í•­ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                loadNotices(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨

                hideLoading();
            } catch (error) {
                console.error('âŒ ê³µì§€ì‚¬í•­ ìˆ˜ì • ì˜¤ë¥˜:', error);
                showToast('ê³µì§€ì‚¬í•­ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                hideLoading();
            }
        }

        /**
         * ê³µì§€ì‚¬í•­ ì‚­ì œ
         */
        async function deleteNotice(noticeId, title) {
            if (!confirm(`"${title}" ê³µì§€ì‚¬í•­ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nì‚­ì œëœ ë°ì´í„°ëŠ” ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`)) {
                return;
            }

            try {
                showLoading();

                const { error } = await supabaseClient
                    .from('notices')
                    .delete()
                    .eq('id', noticeId);

                if (error) throw error;

                showToast('ê³µì§€ì‚¬í•­ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                loadNotices(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨

                hideLoading();
            } catch (error) {
                console.error('ê³µì§€ì‚¬í•­ ì‚­ì œ ì˜¤ë¥˜:', error);
                showToast('ê³µì§€ì‚¬í•­ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                hideLoading();
            }
        }

        // ================================================
        // í•™ìŠµìš© ì½˜í…ì¸  ê´€ë¦¬ ê¸°ëŠ¥
        // ================================================

        /**
         * í•™ìŠµ ì½˜í…ì¸  ë¡œë“œ
         */
        async function loadLearningContents() {
            console.log('ğŸ“š í•™ìŠµ ì½˜í…ì¸  ë¡œë“œ ì‹œì‘');

            try {
                showLoading();

                if (!supabaseClient) {
                    throw new Error('Supabase í´ë¼ì´ì–¸íŠ¸ê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                }

                const { data, error } = await supabaseClient
                    .from('learning_contents')
                    .select('*')
                    .order('depth1')
                    .order('depth2')
                    .order('display_order');

                if (error) throw error;

                console.log('âœ… í•™ìŠµ ì½˜í…ì¸  ë¡œë“œ ì„±ê³µ:', data.length, 'ê°œ');
                renderLearningTree(data);
                updateLearningStats(data);

                hideLoading();
            } catch (error) {
                console.error('âŒ í•™ìŠµ ì½˜í…ì¸  ë¡œë“œ ì˜¤ë¥˜:', error);
                showToast('í•™ìŠµ ì½˜í…ì¸ ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                hideLoading();
            }
        }

        /**
         * í•™ìŠµ ì½˜í…ì¸  í†µê³„ ì—…ë°ì´íŠ¸
         */
        function updateLearningStats(contents) {
            const depth1Set = new Set(contents.map(c => c.depth1));
            const depth2Set = new Set(contents.filter(c => c.depth2).map(c => `${c.depth1}::${c.depth2}`));
            const depth3Count = contents.filter(c => c.depth3).length;

            const depth1Elem = document.getElementById('depth1Count');
            const depth2Elem = document.getElementById('depth2Count');
            const depth3Elem = document.getElementById('depth3Count');

            if (depth1Elem) depth1Elem.textContent = depth1Set.size;
            if (depth2Elem) depth2Elem.textContent = depth2Set.size;
            if (depth3Elem) depth3Elem.textContent = depth3Count;
        }

        /**
         * íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ë Œë”ë§
         */
        function renderLearningTree(contents) {
            const treeContainer = document.getElementById('learningContentTree');
            if (!treeContainer) return;

            // HTML ì´ìŠ¤ì¼€ì´í”„ í•¨ìˆ˜
            const escapeHtml = (text) => {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            };

            // depth1ë³„ë¡œ ê·¸ë£¹í™”
            const depth1Groups = {};
            contents.forEach(item => {
                if (!depth1Groups[item.depth1]) {
                    depth1Groups[item.depth1] = [];
                }
                depth1Groups[item.depth1].push(item);
            });

            let html = '';

            Object.keys(depth1Groups).sort().forEach(depth1Name => {
                const escapedDepth1 = depth1Name.replace(/'/g, "\\'");
                const depth1Items = depth1Groups[depth1Name];

                // depth2ë³„ë¡œ ê·¸ë£¹í™”
                const depth2Groups = {};
                depth1Items.forEach(item => {
                    if (item.depth2) {
                        if (!depth2Groups[item.depth2]) {
                            depth2Groups[item.depth2] = [];
                        }
                        depth2Groups[item.depth2].push(item);
                    }
                });

                html += `
                    <div class="tree-depth1">
                        <div class="tree-item depth1-item" onclick="toggleTreeItem(this)">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon">ğŸ“</span>
                            <span class="tree-name">${escapeHtml(depth1Name)}</span>
                            <div class="tree-actions">
                                <button class="tree-btn edit" onclick="event.stopPropagation(); editDepth1('${escapedDepth1}')">ìˆ˜ì •</button>
                                <button class="tree-btn delete" onclick="event.stopPropagation(); deleteLearningItem('${escapedDepth1}', null, null)">ì‚­ì œ</button>
                                <button class="tree-btn add" onclick="event.stopPropagation(); showAddDepth2Form('${escapedDepth1}')">ì¤‘ë¶„ë¥˜ ì¶”ê°€</button>
                            </div>
                        </div>
                        <div class="tree-children" style="display: none;">
                `;

                // depth2 ë Œë”ë§
                Object.keys(depth2Groups).sort().forEach(depth2Name => {
                    const escapedDepth2 = depth2Name.replace(/'/g, "\\'");
                    const depth2Items = depth2Groups[depth2Name];

                    html += `
                        <div class="tree-depth2">
                            <div class="tree-item depth2-item" onclick="toggleTreeItem(this)">
                                <span class="tree-arrow">â–¶</span>
                                <span class="tree-icon">ğŸ“‚</span>
                                <span class="tree-name">${escapeHtml(depth2Name)}</span>
                                <div class="tree-actions">
                                    <button class="tree-btn edit" onclick="event.stopPropagation(); editDepth2('${escapedDepth1}', '${escapedDepth2}')">ìˆ˜ì •</button>
                                    <button class="tree-btn delete" onclick="event.stopPropagation(); deleteLearningItem('${escapedDepth1}', '${escapedDepth2}', null)">ì‚­ì œ</button>
                                    <button class="tree-btn add" onclick="event.stopPropagation(); showAddDepth3Form('${escapedDepth1}', '${escapedDepth2}')">ì†Œë¶„ë¥˜ ì¶”ê°€</button>
                                </div>
                            </div>
                            <div class="tree-children" style="display: none;">
                    `;

                    // depth3 ë Œë”ë§
                    depth2Items
                        .filter(item => item.depth3)
                        .sort((a, b) => (a.display_order || 0) - (b.display_order || 0))
                        .forEach(item => {
                            const escapedDepth3 = item.depth3.replace(/'/g, "\\'");
                            html += `
                                <div class="tree-depth3">
                                    <div class="tree-item depth3-item">
                                        <span class="tree-icon">ğŸ“„</span>
                                        <span class="tree-name">${escapeHtml(item.depth3)}</span>
                                        <div class="tree-actions">
                                            <button class="tree-btn edit" onclick="event.stopPropagation(); editDepth3('${item.id}')">ìˆ˜ì •</button>
                                            <button class="tree-btn delete" onclick="event.stopPropagation(); deleteLearningItem('${escapedDepth1}', '${escapedDepth2}', '${escapedDepth3}', '${item.id}')">ì‚­ì œ</button>
                                        </div>
                                    </div>
                                </div>
                            `;
                        });

                    html += `
                            </div>
                        </div>
                    `;
                });

                html += `
                        </div>
                    </div>
                `;
            });

            treeContainer.innerHTML = html;
        }

        /**
         * íŠ¸ë¦¬ í•­ëª© í¼ì¹˜ê¸°/ì ‘ê¸°
         */
        function toggleTreeItem(element) {
            const arrow = element.querySelector('.tree-arrow');
            const children = element.parentElement.querySelector('.tree-children');

            if (children) {
                if (children.style.display === 'none') {
                    children.style.display = 'block';
                    arrow.textContent = 'â–¼';
                } else {
                    children.style.display = 'none';
                    arrow.textContent = 'â–¶';
                }
            }
        }

        /**
         * depth1 (ëŒ€ë¶„ë¥˜) ì¶”ê°€ í¼ í‘œì‹œ
         */
        function showAddDepth1Form() {
            const depth1Name = prompt('ìƒˆ ëŒ€ë¶„ë¥˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:');
            if (depth1Name && depth1Name.trim()) {
                createDepth1(depth1Name.trim());
            }
        }

        /**
         * depth1 ìƒì„±
         */
        async function createDepth1(depth1Name) {
            console.log('ğŸš€ createDepth1 í˜¸ì¶œë¨:', depth1Name);

            try {
                showLoading();

                // depth1ë§Œ ìˆëŠ” ë”ë¯¸ ë ˆì½”ë“œ ìƒì„±
                const { data, error } = await supabaseClient
                    .from('learning_contents')
                    .insert([{
                        depth1: depth1Name,
                        depth2: null,
                        depth3: null
                    }])
                    .select();

                if (error) throw error;

                console.log('âœ… ëŒ€ë¶„ë¥˜ ìƒì„± ì„±ê³µ:', data);
                showToast(`ëŒ€ë¶„ë¥˜ "${depth1Name}"ì´(ê°€) ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
                loadLearningContents(); // ìƒˆë¡œê³ ì¹¨

                hideLoading();
            } catch (error) {
                console.error('âŒ ëŒ€ë¶„ë¥˜ ìƒì„± ì˜¤ë¥˜:', error);
                showToast('ëŒ€ë¶„ë¥˜ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                hideLoading();
            }
        }

        /**
         * depth2 (ì¤‘ë¶„ë¥˜) ì¶”ê°€ í¼ í‘œì‹œ
         */
        function showAddDepth2Form(depth1Name) {
            const depth2Name = prompt(`"${depth1Name}" í•˜ìœ„ì— ì¶”ê°€í•  ì¤‘ë¶„ë¥˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:`);
            if (depth2Name && depth2Name.trim()) {
                createDepth2(depth1Name, depth2Name.trim());
            }
        }

        /**
         * depth2 ìƒì„±
         */
        async function createDepth2(depth1Name, depth2Name) {
            console.log('ğŸš€ createDepth2 í˜¸ì¶œë¨:', depth1Name, depth2Name);

            try {
                showLoading();

                const { data, error } = await supabaseClient
                    .from('learning_contents')
                    .insert([{
                        depth1: depth1Name,
                        depth2: depth2Name,
                        depth3: null
                    }])
                    .select();

                if (error) throw error;

                console.log('âœ… ì¤‘ë¶„ë¥˜ ìƒì„± ì„±ê³µ:', data);
                showToast(`ì¤‘ë¶„ë¥˜ "${depth2Name}"ì´(ê°€) ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
                loadLearningContents(); // ìƒˆë¡œê³ ì¹¨

                hideLoading();
            } catch (error) {
                console.error('âŒ ì¤‘ë¶„ë¥˜ ìƒì„± ì˜¤ë¥˜:', error);
                showToast('ì¤‘ë¶„ë¥˜ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                hideLoading();
            }
        }

        /**
         * depth3 (ì†Œë¶„ë¥˜) ì¶”ê°€ í¼ í‘œì‹œ
         */
        function showAddDepth3Form(depth1Name, depth2Name) {
            const depth3Name = prompt(`"${depth1Name} > ${depth2Name}" í•˜ìœ„ì— ì¶”ê°€í•  ì†Œë¶„ë¥˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:`);
            if (!depth3Name || !depth3Name.trim()) return;

            const url = prompt('í•™ìŠµ ìë£Œ URLì„ ì…ë ¥í•˜ì„¸ìš” (ì„ íƒì‚¬í•­):');
            const description = prompt('ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš” (ì„ íƒì‚¬í•­):');

            createDepth3(depth1Name, depth2Name, depth3Name.trim(), url, description);
        }

        /**
         * depth3 ìƒì„±
         */
        async function createDepth3(depth1Name, depth2Name, depth3Name, url, description) {
            console.log('ğŸš€ createDepth3 í˜¸ì¶œë¨:', depth1Name, depth2Name, depth3Name);

            try {
                showLoading();

                const { data, error } = await supabaseClient
                    .from('learning_contents')
                    .insert([{
                        depth1: depth1Name,
                        depth2: depth2Name,
                        depth3: depth3Name,
                        url: url || null,
                        description: description || null
                    }])
                    .select();

                if (error) throw error;

                console.log('âœ… ì†Œë¶„ë¥˜ ìƒì„± ì„±ê³µ:', data);
                showToast(`ì†Œë¶„ë¥˜ "${depth3Name}"ì´(ê°€) ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
                loadLearningContents(); // ìƒˆë¡œê³ ì¹¨

                hideLoading();
            } catch (error) {
                console.error('âŒ ì†Œë¶„ë¥˜ ìƒì„± ì˜¤ë¥˜:', error);
                showToast('ì†Œë¶„ë¥˜ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                hideLoading();
            }
        }

        /**
         * í•™ìŠµ ì½˜í…ì¸  í•­ëª© ì‚­ì œ
         */
        async function deleteLearningItem(depth1, depth2, depth3, itemId) {
            // ì‚­ì œí•  í•­ëª© ì´ë¦„ ìƒì„±
            let itemName = depth1;
            if (depth2) itemName += ` > ${depth2}`;
            if (depth3) itemName += ` > ${depth3}`;

            // í•˜ìœ„ í•­ëª© í™•ì¸
            let confirmMessage = `"${itemName}"ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`;

            if (!depth2) {
                // depth1 ì‚­ì œ ì‹œ ëª¨ë“  í•˜ìœ„ í•­ëª©ë„ ì‚­ì œë¨
                confirmMessage += '\n\nâš ï¸ ê²½ê³ : ëª¨ë“  í•˜ìœ„ ì¤‘ë¶„ë¥˜ ë° ì†Œë¶„ë¥˜ë„ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤!';
            } else if (!depth3) {
                // depth2 ì‚­ì œ ì‹œ ëª¨ë“  depth3ë„ ì‚­ì œë¨
                confirmMessage += '\n\nâš ï¸ ê²½ê³ : ëª¨ë“  í•˜ìœ„ ì†Œë¶„ë¥˜ë„ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤!';
            }

            confirmMessage += '\n\nì‚­ì œëœ ë°ì´í„°ëŠ” ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';

            if (!confirm(confirmMessage)) {
                return;
            }

            try {
                showLoading();

                let query = supabaseClient.from('learning_contents').delete();

                // ì‚­ì œ ì¡°ê±´ ì„¤ì •
                if (itemId) {
                    // depth3 ì‚­ì œ (íŠ¹ì • ID)
                    query = query.eq('id', itemId);
                } else if (depth2) {
                    // depth2 ì‚­ì œ (depth1 + depth2 ì¼ì¹˜í•˜ëŠ” ëª¨ë“  í•­ëª©)
                    query = query.eq('depth1', depth1).eq('depth2', depth2);
                } else {
                    // depth1 ì‚­ì œ (depth1 ì¼ì¹˜í•˜ëŠ” ëª¨ë“  í•­ëª©)
                    query = query.eq('depth1', depth1);
                }

                const { error } = await query;

                if (error) throw error;

                showToast('ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                loadLearningContents(); // ìƒˆë¡œê³ ì¹¨

                hideLoading();
            } catch (error) {
                console.error('âŒ ì‚­ì œ ì˜¤ë¥˜:', error);
                showToast('ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                hideLoading();
            }
        }

        /**
         * depth1 ìˆ˜ì •
         */
        async function editDepth1(oldName) {
            const newName = prompt(`ëŒ€ë¶„ë¥˜ ì´ë¦„ì„ ìˆ˜ì •í•˜ì„¸ìš”:`, oldName);
            if (!newName || !newName.trim() || newName === oldName) return;

            try {
                showLoading();

                // í•´ë‹¹ depth1ì„ ê°€ì§„ ëª¨ë“  ë ˆì½”ë“œ ì—…ë°ì´íŠ¸
                const { error } = await supabaseClient
                    .from('learning_contents')
                    .update({ depth1: newName.trim() })
                    .eq('depth1', oldName);

                if (error) throw error;

                showToast('ëŒ€ë¶„ë¥˜ ì´ë¦„ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                loadLearningContents();

                hideLoading();
            } catch (error) {
                console.error('âŒ ìˆ˜ì • ì˜¤ë¥˜:', error);
                showToast('ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                hideLoading();
            }
        }

        /**
         * depth2 ìˆ˜ì •
         */
        async function editDepth2(depth1, oldName) {
            const newName = prompt(`ì¤‘ë¶„ë¥˜ ì´ë¦„ì„ ìˆ˜ì •í•˜ì„¸ìš”:`, oldName);
            if (!newName || !newName.trim() || newName === oldName) return;

            try {
                showLoading();

                const { error } = await supabaseClient
                    .from('learning_contents')
                    .update({ depth2: newName.trim() })
                    .eq('depth1', depth1)
                    .eq('depth2', oldName);

                if (error) throw error;

                showToast('ì¤‘ë¶„ë¥˜ ì´ë¦„ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                loadLearningContents();

                hideLoading();
            } catch (error) {
                console.error('âŒ ìˆ˜ì • ì˜¤ë¥˜:', error);
                showToast('ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                hideLoading();
            }
        }

        /**
         * depth3 ìˆ˜ì •
         */
        async function editDepth3(itemId) {
            try {
                showLoading();

                // ê¸°ì¡´ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                const { data: existing, error: fetchError } = await supabaseClient
                    .from('learning_contents')
                    .select('*')
                    .eq('id', itemId)
                    .single();

                if (fetchError) throw fetchError;

                hideLoading();

                // ìˆ˜ì • í¼ í‘œì‹œ
                const newName = prompt('ì†Œë¶„ë¥˜ ì´ë¦„ì„ ìˆ˜ì •í•˜ì„¸ìš”:', existing.depth3);
                if (!newName || !newName.trim()) return;

                const newUrl = prompt('URLì„ ìˆ˜ì •í•˜ì„¸ìš” (ì„ íƒì‚¬í•­):', existing.url || '');
                const newDescription = prompt('ì„¤ëª…ì„ ìˆ˜ì •í•˜ì„¸ìš” (ì„ íƒì‚¬í•­):', existing.description || '');

                showLoading();

                const { error: updateError } = await supabaseClient
                    .from('learning_contents')
                    .update({
                        depth3: newName.trim(),
                        url: newUrl || null,
                        description: newDescription || null
                    })
                    .eq('id', itemId);

                if (updateError) throw updateError;

                showToast('ì†Œë¶„ë¥˜ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                loadLearningContents();

                hideLoading();
            } catch (error) {
                console.error('âŒ ìˆ˜ì • ì˜¤ë¥˜:', error);
                showToast('ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                hideLoading();
            }
        }

        // ==========================================================================
        // FAQ ê´€ë¦¬ í•¨ìˆ˜ë“¤ (Agenda #3) - í•™ìŠµìš© ì½˜í…ì¸ ì™€ ë™ì¼í•œ 3ë‹¨ê³„ êµ¬ì¡°
        // ==========================================================================

        /**
         * FAQ ë°ì´í„° ë¡œë“œ ë° íŠ¸ë¦¬ ë Œë”ë§
         */
        async function loadFaqContents() {
            console.log('ğŸ“‹ FAQ ì½˜í…ì¸  ë¡œë“œ ì‹œì‘');

            try {
                const { data, error } = await supabaseClient
                    .from('faqs')
                    .select('*')
                    .order('depth1', { ascending: true })
                    .order('depth2', { ascending: true })
                    .order('depth3', { ascending: true });

                if (error) throw error;

                console.log(`âœ… FAQ ë¡œë“œ ì„±ê³µ: ${data.length}ê°œ`);

                // í†µê³„ ì—…ë°ì´íŠ¸
                const depth1Set = new Set(data.map(item => item.depth1));
                const depth2Set = new Set(data.map(item => item.depth1 + '|' + item.depth2));

                document.getElementById('faqDepth1Count').textContent = depth1Set.size;
                document.getElementById('faqDepth2Count').textContent = depth2Set.size;
                document.getElementById('faqDepth3Count').textContent = data.length;

                // íŠ¸ë¦¬ ë Œë”ë§
                renderFaqTree(data);

            } catch (error) {
                console.error('âŒ FAQ ë¡œë“œ ì˜¤ë¥˜:', error);
                showToast('FAQ ë¡œë“œ ì‹¤íŒ¨: ' + error.message, 'error');
                document.getElementById('faqTree').innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #dc3545;">
                        âŒ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨: ${error.message}
                    </div>
                `;
            }
        }

        /**
         * FAQ íŠ¸ë¦¬ ë Œë”ë§ (í•™ìŠµìš© ì½˜í…ì¸ ì™€ ë™ì¼)
         */
        function renderFaqTree(data) {
            const tree = {};

            // HTML ì´ìŠ¤ì¼€ì´í”„ í•¨ìˆ˜
            const escapeHtml = (text) => {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            };

            // ë°ì´í„°ë¥¼ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ë³€í™˜
            data.forEach(item => {
                if (!tree[item.depth1]) tree[item.depth1] = {};
                if (!tree[item.depth1][item.depth2]) tree[item.depth1][item.depth2] = [];
                tree[item.depth1][item.depth2].push(item);
            });

            let html = '';

            Object.keys(tree).forEach(depth1 => {
                const escapedD1 = depth1.replace(/'/g, "\\'");
                html += `
                    <div class="tree-depth1">
                        <div class="tree-item depth1-item" onclick="toggleTreeItem(this)">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon">ğŸ“</span>
                            <span class="tree-name">${escapeHtml(depth1)}</span>
                            <div class="tree-actions">
                                <button class="tree-btn edit" onclick="event.stopPropagation(); editFaqDepth1('${escapedD1}')">ìˆ˜ì •</button>
                                <button class="tree-btn delete" onclick="event.stopPropagation(); deleteFaqDepth1('${escapedD1}')">ì‚­ì œ</button>
                                <button class="tree-btn add" onclick="event.stopPropagation(); showAddFaqDepth2Form('${escapedD1}')">ì¤‘ë¶„ë¥˜ ì¶”ê°€</button>
                            </div>
                        </div>
                        <div class="tree-children" style="display: none;">
                `;

                Object.keys(tree[depth1]).forEach(depth2 => {
                    const escapedD2 = depth2.replace(/'/g, "\\'");
                    html += `
                        <div class="tree-depth2">
                            <div class="tree-item depth2-item" onclick="toggleTreeItem(this)">
                                <span class="tree-arrow">â–¶</span>
                                <span class="tree-icon">ğŸ“‚</span>
                                <span class="tree-name">${escapeHtml(depth2)}</span>
                                <div class="tree-actions">
                                    <button class="tree-btn edit" onclick="event.stopPropagation(); editFaqDepth2('${escapedD1}', '${escapedD2}')">ìˆ˜ì •</button>
                                    <button class="tree-btn delete" onclick="event.stopPropagation(); deleteFaqDepth2('${escapedD1}', '${escapedD2}')">ì‚­ì œ</button>
                                    <button class="tree-btn add" onclick="event.stopPropagation(); showAddFaqDepth3Form('${escapedD1}', '${escapedD2}')">ì†Œë¶„ë¥˜ ì¶”ê°€</button>
                                </div>
                            </div>
                            <div class="tree-children" style="display: none;">
                    `;

                    tree[depth1][depth2].forEach(item => {
                        const escapedD3 = item.depth3.replace(/'/g, "\\'");
                        html += `
                            <div class="tree-depth3">
                                <div class="tree-item depth3-item">
                                    <span class="tree-icon">ğŸ“„</span>
                                    <span class="tree-name">${escapeHtml(item.depth3)}</span>
                                    <span class="tree-link-status linked">ğŸ’¬ ë‹µë³€</span>
                                    <div class="tree-actions">
                                        <button class="tree-btn edit" onclick="editFaqDepth3('${item.id}')">ìˆ˜ì •</button>
                                        <button class="tree-btn delete" onclick="deleteFaqDepth3('${item.id}', '${escapedD3}')">ì‚­ì œ</button>
                                    </div>
                                </div>
                            </div>
                        `;
                    });

                    html += `
                            </div>
                        </div>
                    `;
                });

                html += `
                        </div>
                    </div>
                `;
            });

            document.getElementById('faqTree').innerHTML = html;
        }

        // FAQ Depth1 ê´€ë¦¬ í•¨ìˆ˜ë“¤
        function showAddFaqDepth1Form() {
            document.getElementById('faqDepth1Title').value = '';
            document.getElementById('faqDepth1FormOverlay').style.display = 'flex';
        }

        function closeFaqDepth1Form() {
            document.getElementById('faqDepth1FormOverlay').style.display = 'none';
        }

        async function saveFaqDepth1() {
            const title = document.getElementById('faqDepth1Title').value.trim();
            if (!title) return;

            try {
                showLoading();
                // ì²« ë²ˆì§¸ í•­ëª©ìœ¼ë¡œ ì„ì‹œ depth2, depth3 ìƒì„±
                const { error } = await supabaseClient
                    .from('faqs')
                    .insert({
                        depth1: title,
                        depth2: 'ì„ì‹œ ì¤‘ë¶„ë¥˜',
                        depth3: 'ì„ì‹œ ì†Œë¶„ë¥˜',
                        answer: 'ì„ì‹œ ë‹µë³€ì…ë‹ˆë‹¤. ìˆ˜ì •í•´ì£¼ì„¸ìš”.'
                    });

                if (error) throw error;

                showToast('ëŒ€ë¶„ë¥˜ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                closeFaqDepth1Form();
                loadFaqContents();
                hideLoading();
            } catch (error) {
                console.error('âŒ ì¶”ê°€ ì˜¤ë¥˜:', error);
                showToast('ì¶”ê°€ ì‹¤íŒ¨: ' + error.message, 'error');
                hideLoading();
            }
        }

        // FAQ Depth2 ê´€ë¦¬ í•¨ìˆ˜ë“¤
        function showAddFaqDepth2Form(depth1) {
            document.getElementById('faqDepth2Parent').value = depth1;
            document.getElementById('faqDepth2Title').value = '';
            document.getElementById('faqDepth2FormOverlay').style.display = 'flex';
        }

        function closeFaqDepth2Form() {
            document.getElementById('faqDepth2FormOverlay').style.display = 'none';
        }

        async function saveFaqDepth2() {
            const depth1 = document.getElementById('faqDepth2Parent').value;
            const depth2 = document.getElementById('faqDepth2Title').value.trim();
            if (!depth2) return;

            try {
                showLoading();
                const { error } = await supabaseClient
                    .from('faqs')
                    .insert({
                        depth1: depth1,
                        depth2: depth2,
                        depth3: 'ì„ì‹œ ì†Œë¶„ë¥˜',
                        answer: 'ì„ì‹œ ë‹µë³€ì…ë‹ˆë‹¤. ìˆ˜ì •í•´ì£¼ì„¸ìš”.'
                    });

                if (error) throw error;

                showToast('ì¤‘ë¶„ë¥˜ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                closeFaqDepth2Form();
                loadFaqContents();
                hideLoading();
            } catch (error) {
                console.error('âŒ ì¶”ê°€ ì˜¤ë¥˜:', error);
                showToast('ì¶”ê°€ ì‹¤íŒ¨: ' + error.message, 'error');
                hideLoading();
            }
        }

        // FAQ Depth3 ê´€ë¦¬ í•¨ìˆ˜ë“¤
        function showAddFaqDepth3Form(depth1, depth2) {
            document.getElementById('faqDepth3Depth1').value = depth1;
            document.getElementById('faqDepth3Depth2').value = depth2;
            document.getElementById('faqDepth3Title').value = '';
            document.getElementById('faqAnswer').value = '';
            document.getElementById('faqDescription').value = '';
            document.getElementById('faqDepth3FormOverlay').style.display = 'flex';
        }

        function closeFaqDepth3Form() {
            document.getElementById('faqDepth3FormOverlay').style.display = 'none';
        }

        async function saveFaqDepth3() {
            const depth1 = document.getElementById('faqDepth3Depth1').value;
            const depth2 = document.getElementById('faqDepth3Depth2').value;
            const depth3 = document.getElementById('faqDepth3Title').value.trim();
            const answer = document.getElementById('faqAnswer').value.trim();
            const description = document.getElementById('faqDescription').value.trim();

            if (!depth3 || !answer) {
                showToast('ì§ˆë¬¸ê³¼ ë‹µë³€ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                return;
            }

            try {
                showLoading();
                const sanitizedAnswer = DOMPurify.sanitize(answer);

                const { error } = await supabaseClient
                    .from('faqs')
                    .insert({
                        depth1: depth1,
                        depth2: depth2,
                        depth3: depth3,
                        answer: sanitizedAnswer,
                        description: description || null
                    });

                if (error) throw error;

                showToast('FAQê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                closeFaqDepth3Form();
                loadFaqContents();
                hideLoading();
            } catch (error) {
                console.error('âŒ ì¶”ê°€ ì˜¤ë¥˜:', error);
                showToast('ì¶”ê°€ ì‹¤íŒ¨: ' + error.message, 'error');
                hideLoading();
            }
        }

        async function editFaqDepth3(itemId) {
            try {
                showLoading();
                const { data, error } = await supabaseClient
                    .from('faqs')
                    .select('*')
                    .eq('id', itemId)
                    .single();

                if (error) throw error;
                hideLoading();

                document.getElementById('faqDepth3Depth1').value = data.depth1;
                document.getElementById('faqDepth3Depth2').value = data.depth2;
                document.getElementById('faqDepth3Title').value = data.depth3;
                document.getElementById('faqAnswer').value = data.answer;
                document.getElementById('faqDescription').value = data.description || '';

                // ìˆ˜ì • ëª¨ë“œë¡œ ì €ì¥
                window.currentFaqEditId = itemId;
                document.getElementById('faqDepth3FormOverlay').style.display = 'flex';

            } catch (error) {
                console.error('âŒ ì¡°íšŒ ì˜¤ë¥˜:', error);
                showToast('ì¡°íšŒ ì‹¤íŒ¨: ' + error.message, 'error');
                hideLoading();
            }
        }

        async function deleteFaqDepth3(itemId, title) {
            if (!confirm(`"${title}"ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) return;

            try {
                showLoading();
                const { error } = await supabaseClient
                    .from('faqs')
                    .delete()
                    .eq('id', itemId);

                if (error) throw error;

                showToast('FAQê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                loadFaqContents();
                hideLoading();
            } catch (error) {
                console.error('âŒ ì‚­ì œ ì˜¤ë¥˜:', error);
                showToast('ì‚­ì œ ì‹¤íŒ¨: ' + error.message, 'error');
                hideLoading();
            }
        }

        /**
         * FAQ depth1 ìˆ˜ì •
         */
        async function editFaqDepth1(oldName) {
            const newName = prompt(`ëŒ€ë¶„ë¥˜ ì´ë¦„ì„ ìˆ˜ì •í•˜ì„¸ìš”:`, oldName);
            if (!newName || !newName.trim() || newName === oldName) return;

            try {
                showLoading();

                // í•´ë‹¹ depth1ì„ ê°€ì§„ ëª¨ë“  FAQ ì—…ë°ì´íŠ¸
                const { error } = await supabaseClient
                    .from('faqs')
                    .update({ depth1: newName.trim() })
                    .eq('depth1', oldName);

                if (error) throw error;

                showToast('ëŒ€ë¶„ë¥˜ ì´ë¦„ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                loadFaqContents();

                hideLoading();
            } catch (error) {
                console.error('âŒ ìˆ˜ì • ì˜¤ë¥˜:', error);
                showToast('ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                hideLoading();
            }
        }

        /**
         * FAQ depth2 ìˆ˜ì •
         */
        async function editFaqDepth2(depth1, oldName) {
            const newName = prompt(`ì¤‘ë¶„ë¥˜ ì´ë¦„ì„ ìˆ˜ì •í•˜ì„¸ìš”:`, oldName);
            if (!newName || !newName.trim() || newName === oldName) return;

            try {
                showLoading();

                const { error } = await supabaseClient
                    .from('faqs')
                    .update({ depth2: newName.trim() })
                    .eq('depth1', depth1)
                    .eq('depth2', oldName);

                if (error) throw error;

                showToast('ì¤‘ë¶„ë¥˜ ì´ë¦„ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                loadFaqContents();

                hideLoading();
            } catch (error) {
                console.error('âŒ ìˆ˜ì • ì˜¤ë¥˜:', error);
                showToast('ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                hideLoading();
            }
        }

        /**
         * FAQ depth1 ì‚­ì œ (ëª¨ë“  í•˜ìœ„ í•­ëª© í¬í•¨)
         */
        async function deleteFaqDepth1(depth1) {
            const confirmMessage = `"${depth1}"ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nâš ï¸ ê²½ê³ : ëª¨ë“  í•˜ìœ„ ì¤‘ë¶„ë¥˜ ë° ì†Œë¶„ë¥˜(FAQ)ë„ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤!\n\nì‚­ì œëœ ë°ì´í„°ëŠ” ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`;

            if (!confirm(confirmMessage)) return;

            try {
                showLoading();

                const { error } = await supabaseClient
                    .from('faqs')
                    .delete()
                    .eq('depth1', depth1);

                if (error) throw error;

                showToast('ëŒ€ë¶„ë¥˜ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                loadFaqContents();

                hideLoading();
            } catch (error) {
                console.error('âŒ ì‚­ì œ ì˜¤ë¥˜:', error);
                showToast('ì‚­ì œ ì‹¤íŒ¨: ' + error.message, 'error');
                hideLoading();
            }
        }

        /**
         * FAQ depth2 ì‚­ì œ (ëª¨ë“  í•˜ìœ„ FAQ í¬í•¨)
         */
        async function deleteFaqDepth2(depth1, depth2) {
            const confirmMessage = `"${depth1} > ${depth2}"ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nâš ï¸ ê²½ê³ : ëª¨ë“  í•˜ìœ„ ì†Œë¶„ë¥˜(FAQ)ë„ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤!\n\nì‚­ì œëœ ë°ì´í„°ëŠ” ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`;

            if (!confirm(confirmMessage)) return;

            try {
                showLoading();

                const { error } = await supabaseClient
                    .from('faqs')
                    .delete()
                    .eq('depth1', depth1)
                    .eq('depth2', depth2);

                if (error) throw error;

                showToast('ì¤‘ë¶„ë¥˜ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                loadFaqContents();

                hideLoading();
            } catch (error) {
                console.error('âŒ ì‚­ì œ ì˜¤ë¥˜:', error);
                showToast('ì‚­ì œ ì‹¤íŒ¨: ' + error.message, 'error');
                hideLoading();
            }
        }

    </script>
</body>
</html>

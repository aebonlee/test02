# User Flow #4: AI 크레딧 충전 및 사용 - UI 상세 명세서

> **최종 수정:** 2025-12-02
> **버전:** 1.0
> **관련 문서:** `flow.md`

---

## 목차

1. [크레딧 잔액 위젯](#1-크레딧-잔액-위젯)
2. [크레딧 부족 팝업](#2-크레딧-부족-팝업)
3. [크레딧 충전 페이지](#3-크레딧-충전-페이지)
4. [결제 페이지 (토스페이먼츠)](#4-결제-페이지-토스페이먼츠)
5. [충전 완료 팝업](#5-충전-완료-팝업)
6. [AI Q&A 페이지](#6-ai-qa-페이지)
7. [AI 응답 화면](#7-ai-응답-화면)
8. [크레딧 사용 내역 페이지](#8-크레딧-사용-내역-페이지)
9. [가격 변경 알림](#9-가격-변경-알림)

---

## 1. 크레딧 잔액 위젯

### 1-1. 위젯 정보
- **표시 위치:** 우측 상단 헤더
- **표시 조건:** 로그인 후 항상 표시
- **업데이트:** 실시간 (Supabase Realtime)

---

### 1-2. 위젯 구조

```
┌─────────────────────────────┐
│  💰 AI 크레딧               │
│                             │
│  잔액: ₩2,500  ⚡            │
│                             │
│  사용 가능:                  │
│  - ChatGPT: 실시간 표시     │
│  - Gemini: 실시간 표시      │
│  - Perplexity: 실시간 표시  │
│                             │
│  [ 충전하기 ] [ 사용 내역 ] │
└─────────────────────────────┘
```

---

### 1-3. UI 요소 상세

#### 위젯 카드
- **배경:** #FFFFFF
- **테두리:** 1px solid #E5E7EB
- **그림자:** 0 2px 8px rgba(0, 0, 0, 0.08)
- **둥근 모서리:** 8px
- **너비:** 280px
- **패딩:** 16px

#### 잔액 표시
- **폰트:** 24px, Bold
- **색상:** #10B981 (충분: ₩1,000 이상)
- **색상:** #F59E0B (경고: ₩100 ~ ₩999)
- **색상:** #DC2626 (부족: ₩100 미만)

#### 실시간 아이콘 (⚡)
- **색상:** #3B82F6
- **애니메이션:** 0.5초마다 깜빡임 (업데이트 발생 시)

#### 사용 가능 횟수
- **폰트:** 12px, Regular
- **색상:** #6B7280
- **업데이트:** 실시간 가격 조회 후 자동 계산

#### 충전하기 버튼
- **배경:** #10B981
- **텍스트 색상:** #FFFFFF
- **크기:** 110px × 32px
- **폰트:** 14px, Bold
- **둥근 모서리:** 6px

#### 사용 내역 버튼
- **배경:** #F3F4F6
- **텍스트 색상:** #6B7280
- **크기:** 110px × 32px
- **폰트:** 14px, Medium
- **둥근 모서리:** 6px

---

### 1-4. 인터랙션

#### Hover 효과
- 위젯 전체: 그림자 강화 (0 4px 12px rgba(0, 0, 0, 0.12))
- 커서: pointer

#### 클릭 동작
- 위젯 클릭: 크레딧 사용 내역 페이지로 이동
- 충전하기 버튼: 충전 페이지로 이동
- 사용 내역 버튼: 사용 내역 페이지로 이동

#### 실시간 업데이트 애니메이션
- 잔액 변경 시: 숫자 카운트업 애니메이션 (500ms)
- 배경 색상: 임시로 #D1FAE5 (연한 초록) → #FFFFFF (300ms)

---

## 2. 크레딧 부족 팝업

### 2-1. 팝업 정보
- **표시 조건:** AI 사용 시도 시 잔액 부족
- **표시 방식:** 모달 팝업 (오버레이)
- **자동 닫힘:** 없음 (사용자 액션 필요)

---

### 2-2. 팝업 구조

```
┌────────────────────────────────────────┐
│  ⚠️ 크레딧 잔액 부족                    │
│                                        │
│  현재 잔액: ₩50                         │
│  필요 크레딧: ₩[실시간 가격] (ChatGPT) │
│                                        │
│  크레딧을 충전하시겠습니까?             │
│                                        │
│  [ 충전하기 ]  [ 취소 ]                │
└────────────────────────────────────────┘
```

---

### 2-3. UI 요소 상세

#### 오버레이
- **배경:** rgba(0, 0, 0, 0.5)
- **z-index:** 1000

#### 팝업 카드
- **배경:** #FFFFFF
- **둥근 모서리:** 12px
- **너비:** 400px
- **패딩:** 24px
- **그림자:** 0 20px 60px rgba(0, 0, 0, 0.3)

#### 타이틀
- **텍스트:** "⚠️ 크레딧 잔액 부족"
- **폰트:** 20px, Bold
- **색상:** #DC2626

#### 현재 잔액
- **폰트:** 18px, Bold
- **색상:** #DC2626

#### 필요 크레딧
- **폰트:** 16px, Bold
- **색상:** #374151

#### 추천 충전 섹션
- **배경:** #F0FDF4 (연한 초록)
- **테두리:** 1px solid #10B981
- **패딩:** 12px
- **둥근 모서리:** 6px

#### 충전하기 버튼
- **배경:** #10B981
- **텍스트 색상:** #FFFFFF
- **크기:** 140px × 44px
- **폰트:** 16px, Bold

---

## 3. 크레딧 충전 페이지

### 3-1. 페이지 정보
- **URL:** `/credit/purchase`
- **페이지 제목:** AI 크레딧 충전 - SSAL Works
- **레이아웃:** 중앙 정렬 카드

---

### 3-2. 페이지 구조

```
┌────────────────────────────────────────────────┐
│  💳 AI 크레딧 충전                              │
│                                                │
│  현재 잔액: ₩2,500                              │
│                                                │
│  충전 금액을 선택하세요:                        │
│                                                │
│  ┌──────────────────────────────────────────┐ │
│  │ ○ ₩10,000                                 │ │
│  └──────────────────────────────────────────┘ │
│                                                │
│  ┌──────────────────────────────────────────┐ │
│  │ ○ ₩30,000                                 │ │
│  └──────────────────────────────────────────┘ │
│                                                │
│  ┌──────────────────────────────────────────┐ │
│  │ ○ ₩50,000                                 │ │
│  └──────────────────────────────────────────┘ │
│                                                │
│  ┌──────────────────────────────────────────┐ │
│  │ ○ ₩100,000                                │ │
│  └──────────────────────────────────────────┘ │
│                                                │
│  [ 다음 ]                                      │
└────────────────────────────────────────────────┘
```

---

### 3-3. UI 요소 상세

#### 충전 옵션 카드
- **배경:** #F9FAFB (기본)
- **배경 (선택 시):** #ECFDF5 (연한 초록)
- **테두리:** 1px solid #E5E7EB (기본)
- **테두리 (선택 시):** 2px solid #10B981
- **둥근 모서리:** 8px
- **패딩:** 16px
- **간격:** 12px
- **Hover:** 그림자 추가

#### 충전 금액
- **폰트:** 24px, Bold
- **색상:** #1F2937

#### 다음 버튼
- **배경:** #10B981
- **텍스트 색상:** #FFFFFF
- **크기:** 전체 너비 × 52px
- **폰트:** 18px, Bold
- **둥근 모서리:** 8px

---

### 3-4. 반응형 레이아웃

#### 데스크톱 (1024px 이상)
- 카드 너비: 600px
- 2열 그리드

#### 태블릿 (768px ~ 1023px)
- 카드 너비: 90%
- 1열 그리드

#### 모바일 (767px 이하)
- 카드 너비: 100%
- 좌우 패딩: 16px
- 충전 옵션 간격: 8px

---

## 4. 결제 페이지 (토스페이먼츠)

### 4-1. 페이지 정보
- **결제 방식:** 토스페이먼츠 결제창 연동
- **레이아웃:** 토스페이먼츠 표준 결제 UI

---

### 4-2. 결제 흐름

1. 충전 금액 선택 후 "다음" 클릭
2. 토스페이먼츠 결제창 호출
3. 사용자가 결제 수단 선택 및 결제 진행
4. 결제 완료 후 콜백으로 크레딧 충전

---

## 5. 충전 완료 팝업

### 5-1. 팝업 구조

```
┌────────────────────────────────────────┐
│  ✅ 충전 완료!                          │
│                                        │
│  충전 금액: ₩10,000                     │
│                                        │
│  현재 잔액: ₩12,500 ⚡                  │
│                                        │
│  이제 AI 서비스를 이용하실 수 있습니다! │
│                                        │
│  [ AI Q&A 바로가기 ]  [ 확인 ]         │
└────────────────────────────────────────┘
```

---

### 5-2. UI 요소 상세

#### 성공 아이콘
- **크기:** 64px
- **색상:** #10B981
- **애니메이션:** 체크마크 그리기 (500ms)

#### 현재 잔액
- **폰트:** 28px, Bold
- **색상:** #10B981
- **애니메이션:** 카운트업 효과

#### AI Q&A 바로가기 버튼
- **배경:** #10B981
- **텍스트 색상:** #FFFFFF
- **크기:** 160px × 44px

---

## 6. AI Q&A 페이지

### 6-1. 페이지 정보
- **URL:** `/ai/qa`
- **페이지 제목:** AI Q&A - SSAL Works
- **레이아웃:** 2열 (좌: 대화, 우: AI 선택)

---

### 6-2. 페이지 구조

```
┌────────────────────────────────────────────────────────────┐
│  🤖 AI Q&A                         💰 현재 크레딧: ₩13,500 │
│                                                            │
│  ┌──────────────────────┐  ┌──────────────────────────┐  │
│  │                      │  │ AI 선택:                  │  │
│  │  대화 영역           │  │                           │  │
│  │                      │  │ ○ ChatGPT (GPT-4)        │  │
│  │                      │  │   질문당 ₩[실시간]       │  │
│  │                      │  │   코드 작성, 기술 문서    │  │
│  │                      │  │                           │  │
│  │                      │  │ ○ Gemini 2.5 Pro         │  │
│  │                      │  │   질문당 ₩[실시간]       │  │
│  │                      │  │   코드 리뷰, 아키텍처     │  │
│  │                      │  │                           │  │
│  │                      │  │ ○ Perplexity             │  │
│  │                      │  │   질문당 ₩[실시간]       │  │
│  │                      │  │   최신 정보, 실시간 검색  │  │
│  │                      │  │                           │  │
│  └──────────────────────┘  └──────────────────────────┘  │
│                                                            │
│  ┌────────────────────────────────────────────────────┐  │
│  │ 질문을 입력하세요:                                  │  │
│  │ [_____________________________________________]     │  │
│  │                                                     │  │
│  │ 예상 비용: ₩[실시간]   사용 후 잔액: ₩[자동 계산]  │  │
│  │                                                     │  │
│  │                             [ 질문하기 ]            │  │
│  └────────────────────────────────────────────────────┘  │
└────────────────────────────────────────────────────────────┘
```

---

### 6-3. UI 요소 상세

#### 대화 영역
- **배경:** #F9FAFB
- **테두리:** 1px solid #E5E7EB
- **둥근 모서리:** 8px
- **높이:** calc(100vh - 280px)
- **패딩:** 20px
- **스크롤:** 자동

#### AI 선택 카드
- **배경:** #FFFFFF
- **테두리:** 1px solid #E5E7EB
- **둥근 모서리:** 8px
- **패딩:** 20px

#### AI 옵션
- **배경 (선택 시):** #ECFDF5
- **테두리 (선택 시):** 2px solid #10B981
- **패딩:** 16px
- **둥근 모서리:** 8px
- **간격:** 12px

#### 실시간 가격 표시
- **폰트:** 16px, Bold
- **색상:** #10B981
- **업데이트:** API 조회 후 즉시 반영
- **로딩:** 스켈레톤 애니메이션

#### 질문 입력 필드
- **높이:** 80px
- **테두리:** 1px solid #D1D5DB
- **Focus 테두리:** 2px solid #10B981
- **둥근 모서리:** 8px
- **패딩:** 12px
- **폰트:** 16px, Regular
- **최대 글자수:** 2000자

#### 예상 비용 표시
- **폰트:** 14px, Bold
- **색상:** #6B7280

#### 사용 후 잔액
- **폰트:** 14px, Bold
- **색상:** #10B981 (충분)
- **색상:** #DC2626 (부족)

#### 질문하기 버튼
- **배경:** #10B981
- **텍스트 색상:** #FFFFFF
- **크기:** 120px × 44px
- **폰트:** 16px, Bold
- **활성화 조건:** 질문 입력 & 잔액 충분
- **비활성화:** opacity 0.5, cursor not-allowed

---

### 6-4. 실시간 업데이트

#### 가격 로딩 상태
```
질문당 [⚡ 로딩중...]
```
- 스켈레톤 애니메이션 (shimmer 효과)

#### 가격 표시 상태
```
질문당 ₩100 ⚡
```
- 실시간 아이콘으로 최신 정보임을 표시

---

## 7. AI 응답 화면

### 7-1. 응답 구조

```
┌────────────────────────────────────────────────┐
│  🤖 ChatGPT 응답                                │
│                                                │
│  질문: React에서 useState와 useEffect의 차이점은?│
│                                                │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │
│                                                │
│  답변:                                          │
│  useState와 useEffect는 React Hooks의 핵심입니다...│
│                                                │
│  [답변 내용 표시]                               │
│                                                │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │
│                                                │
│  사용 크레딧: ₩100                              │
│  남은 잔액: ₩13,400 ⚡ (실시간 업데이트)        │
│                                                │
│  [ 새 질문하기 ]  [ 복사 ]  [ 저장 ]           │
└────────────────────────────────────────────────┘
```

---

### 7-2. UI 요소 상세

#### 응답 카드
- **배경:** #FFFFFF
- **테두리:** 1px solid #E5E7EB
- **둥근 모서리:** 12px
- **패딩:** 24px
- **그림자:** 0 4px 16px rgba(0, 0, 0, 0.08)

#### 질문 영역
- **배경:** #F3F4F6
- **패딩:** 12px
- **둥근 모서리:** 6px
- **폰트:** 16px, Medium
- **색상:** #374151

#### 답변 영역
- **폰트:** 16px, Regular
- **색상:** #1F2937
- **줄간격:** 1.8
- **코드 블록:** 별도 스타일 (모노스페이스, 배경 #F9FAFB)

#### 사용 크레딧 표시
- **배경:** #FEF3C7 (연한 노랑)
- **패딩:** 8px 12px
- **둥근 모서리:** 6px
- **폰트:** 14px, Bold
- **색상:** #92400E

#### 남은 잔액 표시
- **폰트:** 18px, Bold
- **색상:** #10B981
- **실시간 업데이트 애니메이션:** 숫자 카운트 효과

#### 버튼들
- **새 질문하기:** Primary (초록)
- **복사:** Secondary (회색)
- **저장:** Secondary (회색)
- **간격:** 8px

---

### 7-3. 로딩 상태

```
┌────────────────────────────────────────┐
│  🤖 ChatGPT가 답변 중입니다...          │
│                                        │
│  ┌────────────────────────────────┐  │
│  │  ●●●  응답을 생성하고 있습니다  │  │
│  └────────────────────────────────┘  │
│                                        │
│  잠시만 기다려주세요...                 │
└────────────────────────────────────────┘
```

#### 로딩 애니메이션
- **타입:** 3개 점 깜빡임 (Dots pulse)
- **색상:** #10B981
- **속도:** 1초 주기

---

## 8. 크레딧 사용 내역 페이지

### 8-1. 페이지 정보
- **URL:** `/credit/history`
- **페이지 제목:** 크레딧 사용 내역 - SSAL Works
- **레이아웃:** 전체 페이지

---

### 8-2. 페이지 구조

```
┌────────────────────────────────────────────────┐
│  💰 크레딧 사용 내역                            │
│                                                │
│  현재 잔액: ₩13,400                             │
│                                                │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │
│                                                │
│  최근 내역:                                     │
│                                                │
│  ┌──────────────────────────────────────────┐ │
│  │ 2025-12-02 14:30                          │ │
│  │ 🤖 ChatGPT 사용              -₩100        │ │
│  │ 질문: "React에서 useState와..."            │ │
│  │ 잔액: ₩13,400                              │ │
│  │                              [ 상세보기 ]  │ │
│  └──────────────────────────────────────────┘ │
│                                                │
│  ┌──────────────────────────────────────────┐ │
│  │ 2025-12-02 10:00                          │ │
│  │ 💳 크레딧 충전              +₩10,000      │ │
│  │ 잔액: ₩13,400                              │ │
│  │                              [ 영수증 ]    │ │
│  └──────────────────────────────────────────┘ │
│                                                │
│  ┌──────────────────────────────────────────┐ │
│  │ 2025-12-01 15:20                          │ │
│  │ 🤖 Gemini 사용               -₩80         │ │
│  │ 질문: "Python 비동기 처리..."              │ │
│  │ 잔액: ₩3,400                               │ │
│  │                              [ 상세보기 ]  │ │
│  └──────────────────────────────────────────┘ │
│                                                │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │
│                                                │
│  [ 더보기 ]  [ 내보내기 (CSV) ]                │
└────────────────────────────────────────────────┘
```

---

### 8-3. UI 요소 상세

#### 현재 잔액 표시
- **폰트:** 36px, Bold
- **색상:** #10B981
- **위치:** 상단 고정

#### 내역 카드
- **배경:** #F9FAFB
- **테두리:** 1px solid #E5E7EB
- **둥근 모서리:** 8px
- **패딩:** 16px
- **간격:** 12px
- **Hover:** 배경 #FFFFFF, 그림자 추가

#### 날짜 & 시간
- **폰트:** 14px, Medium
- **색상:** #6B7280

#### 거래 타입 아이콘
- **🤖 AI 사용:** #3B82F6
- **💳 크레딧 충전:** #10B981

#### 금액 표시
- **폰트:** 20px, Bold
- **색상 (충전):** #10B981
- **색상 (사용):** #DC2626

#### 질문 미리보기
- **폰트:** 14px, Regular
- **색상:** #6B7280
- **최대 글자:** 30자 + "..."

#### 잔액 표시
- **폰트:** 14px, Medium
- **색상:** #374151

#### 상세보기/영수증 버튼
- **텍스트 색상:** #6B7280
- **폰트:** 14px, Medium
- **Hover:** 밑줄 추가

---

### 8-4. 필터 & 정렬

#### 필터 옵션
```
[ 전체 ▼ ]  [ 기간 ▼ ]  [ 타입 ▼ ]
```

- **전체:** 모든 내역
- **기간:** 오늘, 최근 7일, 최근 30일, 전체
- **타입:** 충전, 사용

---

## 9. 가격 변경 알림

### 9-1. 알림 구조

```
┌────────────────────────────────────────┐
│  💰 AI 서비스 가격 변경 안내            │
│                                        │
│  ChatGPT 가격이 변경되었습니다:         │
│  - 이전 가격: ₩100                      │
│  - 새 가격: ₩110 (+10%)                 │
│                                        │
│  변경 사유: API 원가 상승               │
│  적용일: 2025-12-03                     │
│                                        │
│  [ 자세히 보기 ]                       │
└────────────────────────────────────────┘
```

---

### 9-2. UI 요소 상세

#### 알림 타입
- **배경:** #FEF3C7 (노랑 - 가격 인상)
- **배경:** #D1FAE5 (초록 - 가격 인하)
- **테두리:** 각 배경색의 진한 버전

#### 가격 변경 표시
- **이전 가격:** 취소선 + #6B7280
- **새 가격:** Bold + #DC2626 (인상) / #10B981 (인하)

#### 변경률 배지
- **배경:** #DC2626 (인상) / #10B981 (인하)
- **텍스트 색상:** #FFFFFF
- **패딩:** 4px 8px
- **둥근 모서리:** 4px

---

## 색상 팔레트

### Primary Colors
- **Primary Green:** #10B981
- **Primary Green Hover:** #059669
- **Primary Green Active:** #047857

### Status Colors
- **Success:** #10B981
- **Warning:** #F59E0B
- **Error:** #DC2626
- **Info:** #3B82F6

### Neutral Colors
- **Dark:** #1F2937
- **Medium Dark:** #374151
- **Medium:** #6B7280
- **Light:** #D1D5DB
- **Very Light:** #F3F4F6

### Background Colors
- **Success Background:** #D1FAE5 (#ECFDF5 연한 버전)
- **Warning Background:** #FEF3C7
- **Error Background:** #FEF2F2
- **Info Background:** #DBEAFE

---

## 타이포그래피

### Headings
- **H1:** 36px, Bold, #1F2937
- **H2:** 28px, Bold, #1F2937
- **H3:** 24px, Bold, #374151
- **H4:** 20px, Bold, #374151

### Body Text
- **Extra Large:** 24px, Bold, #1F2937
- **Large:** 18px, Regular, #374151
- **Regular:** 16px, Regular, #374151
- **Small:** 14px, Regular, #6B7280
- **Extra Small:** 12px, Regular, #6B7280

### Labels
- **Bold:** 14px, Bold, #1F2937
- **Medium:** 14px, Medium, #374151
- **Regular:** 14px, Regular, #6B7280

---

## 애니메이션

### 페이드 인
- **Duration:** 200ms
- **Easing:** ease-in-out

### 슬라이드 업
- **Duration:** 300ms
- **Easing:** cubic-bezier(0.4, 0, 0.2, 1)

### 카운트 애니메이션
- **Duration:** 500ms
- **Easing:** ease-out

### 실시간 업데이트 플래시
- **Duration:** 300ms
- **Effect:** 배경 색상 플래시 (#D1FAE5 → #FFFFFF)

### 로딩 스피너
- **Type:** 회전 (spin)
- **Duration:** 1s
- **Loop:** infinite

### 스켈레톤 로딩
- **Type:** Shimmer
- **Duration:** 1.5s
- **Loop:** infinite

---

**문서 작성:** Claude Code
**승인:** 2025-12-02

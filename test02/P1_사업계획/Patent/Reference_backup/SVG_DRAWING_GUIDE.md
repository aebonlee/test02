# 특허 도면 제작 가이드라인 (최종 업데이트 버전)

## 기본 정보
- **용도**: 특허출원서 공식 도면
- **제작**: SVG 파일
- **참고**: 실시예 내용 기반
- **기준**: 특허청 제출 표준 준수

---

## 핵심 원칙

### 1. **기본 스타일**
- **방식**: 블록 다이어그램 (직사각형 박스 중심)
- **색상**: 흑백만 (특허청 규정)
- **형태**: 명확한 경계선과 참조번호
- **구조**: 기능 블록 중심 구성도

### 2. **참조번호 체계**
- **원칙**: 실시예 번호 그대로 사용
- **표기**: (번호) 형태로 표시
- **계층**: 주요 구성부 → 세부 모듈 → 더 세부 모듈 순서
- **일관성**: 전체 도면에서 통일된 체계

### 3. **텍스트 표기 - 실제 적용 기준**
- **언어**: 한국어 + 영어 단어 그대로
- **예시**: "블록체인 거래 상시 모니터링 시스템(100)"
- **주요 구성부명**: **28px (bold)** - 모든 도면 통일
- **참조번호**: **28px (bold)** - 모든 도면 통일
- **설명 텍스트**: **24px** - 모든 도면 통일
- **원칙**: 일반명만 표시 (구체적 브랜드명 제외)

---

## 도면 규격

### 4. **Canvas 및 도형**
- **크기**: 1200x800 (3:2 비율), 여백 60px
- **실제 작업 영역**: 1080x680
- **선 굵기**: 2px(기본), 3px(강조용)
- **박스 테두리**: 2px(일반), 3px(중요 구성부)
- **모서리**: 직각 기본, 5px 라운드 선택적
- **화살표**: 마커 방식 사용

### 5. **박스 크기 및 배치 - 실제 적용 기준**
- **기본 박스**: **300x180** 이상 (기존 280x160에서 확대)
- **중앙 박스**: **400x200 ~ 500x220** 내외
- **텍스트 여백**: 박스 내 20px 이상
- **박스 간격**: 최소 100px 이상
- **비례**: 포함 내용에 따라 크기 조절
- **중요**: 28px 글씨에 맞춰 박스를 충분히 크게 설계

---

## 텍스트 배치 - 핵심 해결 방법

### 6. **줄 간격 기준 (모든 도면 통일 필수)**
- **구성부명 → 참조번호**: **32px** 간격
- **참조번호 → 설명 첫 줄**: **28px** 간격
- **설명 줄 간격**: **25px** 간격

### 7. **박스 중앙 배치 계산법**
- **박스 높이 180px 기준**: 중앙점 = 시작점 + 90px
- **박스 높이 200px 기준**: 중앙점 = 시작점 + 100px
- **텍스트 배치**: 중앙점 기준으로 위아래 균등 배치
- **예시**: 박스(y=60~240) → 중앙=150 → 텍스트 130, 162, 190, 215

```svg
<!-- 올바른 텍스트 중앙 배치 예시 -->
<rect x="460" y="60" width="300" height="180" />
<text x="610" y="130">구성부명</text>      <!-- 중앙-50px -->
<text x="610" y="162">참조번호</text>      <!-- 중앙-18px -->
<text x="610" y="190">설명1</text>        <!-- 중앙+10px -->
<text x="610" y="215">설명2</text>        <!-- 중앙+35px -->
```

---

## 연결 관계

### 8. **화살표 규칙**
- **기본**: 단방향, 데이터 흐름 표시
- **선 종류**: 실선(데이터 흐름), 점선(제어 흐름)
- **연결**: 직각 기본, 자연스러운 곡선 허용
- **제약**: 박스 관통 금지, 선 교차 최소화
- **경로**: 박스 외곽 우회, 가독성 우선

### 9. **화살표 제작 핵심 (필수 사용 방법)**
- **권장방법**: SVG marker 사용 (오류 방지)
```svg
<defs>
  <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
    <polygon points="0 0, 10 3.5, 0 7" fill="black"/>
  </marker>
</defs>
<line x1="x1" y1="y1" x2="x2" y2="y2" stroke="black" stroke-width="2" marker-end="url(#arrowhead)"/>
```
- **피해야 할 방법**: 수동 polygon 좌표 계산 (오류 발생 가능)
- **자동 방향 조정**: 마커가 선의 방향에 따라 자동 회전
- **일관된 크기**: 모든 화살표에 동일한 마커 적용
- **점선 화살표**: `stroke-dasharray="5,5"` 추가

### 10. **화살표 텍스트**
- **원칙**: 화살표 위에 텍스트 배치 금지
- **불가시**: 텍스트 없이 화살표만 표시
- **예외**: 꼭 필요한 경우만 간단한 라벨
- **금지**: 억지 배치, 가독성 저해

---

## 배치 및 레이아웃

### 11. **배치 방식 선택**
- **방사형**: 중심에서 퍼지는 구조
- **계층형**: 상하 관계 명확한 구조
- **프로세스형**: 순차적 흐름 구조
- **매트릭스형**: 격자 형태 배치
- **기준**: 도면 내용과 구성요소 관계에 최적화

### 12. **시각적 요소**
- **제목**: 도면 안에 표시 금지
- **범례**: 없음 (직관적 표현만)
- **그룹**: 색상 대신 선 굵기나 점선으로 구분
- **균형**: 좌우/상하 균형 배치
- **여백**: 충분한 공간 확보

---

## 제작 원칙

### 13. **도면 작성 전 필수 준비**
- **실시예 완전 분석**: 구성요소, 참조번호, 관계 파악
- **배치 방식 결정**: 내용에 최적화된 레이아웃 선택
- **박스 크기 계획**: 28px 글씨에 맞는 충분한 크기 (300x180 이상)
- **화살표 경로 설계**: 교차 최소화, 명확한 연결
- **마커 정의**: `<defs>` 섹션에 화살표 마커 미리 정의
- **충분한 상호 대화**: 구상 내용 검토 후 최종 승인

### 14. **상호 대화의 중요성**
- **사전 토론**: 구상 내용을 반드시 검토하고 승인받기
- **지속적 확인**: 작업 진행 중에도 방향성 점검
- **내용 검증**: 실시예와 일치하는지 상호 확인
- **문제 해결**: 막힐 때 즉시 소통하여 해결 방안 모색
- **최종 검토**: 완성 후 함께 검토하여 품질 확인

### 15. **작업 방식 - 경험 기반 개선**
- **완성도 우선**: 단 한 번에 완성 목표
- **수정 방식**: 부분 수정이 3-4회 실패하면 → **즉시 리라이트**
- **사전 계획**: 박스 크기, 화살표 경로, 텍스트 위치 미리 계획
- **품질 기준**: 특허청 제출 가능한 전문적 수준
- **성급함 방지**: 충분한 사전 계획과 검토
- **텍스트 중앙 배치**: 박스 중앙 좌표 정확히 계산 후 배치

### 16. **품질 검증 체크리스트 - 실제 적용 기준**
- **참조번호**: 실시예와 정확히 일치
- **텍스트 크기**: 28px (bold), 24px 통일 확인
- **줄 간격**: 32px, 28px, 25px 통일 확인
- **텍스트 위치**: 박스 정중앙 배치 확인
- **화살표**: SVG marker 방식 사용, 방향 정확
- **박스 크기**: 300x180 이상, 텍스트가 밖으로 삐져나오지 않음
- **비례**: 전체적 균형과 가독성
- **규격**: Canvas 크기, 선 굵기 준수

---

## 포함/제외 기준

### 17. **포함/제외 기준**
- **포함**: 실시예에서 번호 부여된 모든 요소
- **제외**: 번호 없이 설명만 있는 부분
- **표현**: 일반명 사용 (구체적 브랜드명 제외)
- **예시**: "자동화 툴(예: Make)" → "자동화 툴(403)"

---

## 금지 사항

### 18. **절대 금지**
- **색상 사용**: 특허 도면은 흑백만
- **박스 관통**: 화살표가 박스를 뚫고 지나가기
- **임의 수정**: 실시예와 다른 번호나 명칭 사용
- **불완전 제작**: 미완성 상태로 제출
- **복잡한 장식**: 불필요한 시각적 요소 추가
- **수동 polygon 화살표**: 오류 발생 가능한 방식
- **글자 크기 불일치**: 도면마다 다른 글자 크기 사용

### 19. **주의 사항**
- **텍스트 겹침**: 박스나 화살표와 텍스트 충돌
- **비례 불균형**: 너무 크거나 작은 요소
- **연결 오류**: 잘못된 관계 표시
- **번호 불일치**: 실시예와 다른 참조번호
- **마커 누락**: `<defs>` 섹션 마커 정의 빠뜨림
- **텍스트 중앙 배치 실패**: 박스 아래쪽에 텍스트 몰림

---

## 최종 목표

### 20. **완성도 기준**
- **전문성**: 특허청 심사관이 인정할 수준
- **명확성**: 기술 내용이 직관적으로 이해 가능
- **정확성**: 실시예 내용과 100% 일치
- **완성도**: 수정 없이 바로 제출 가능
- **일관성**: 전체 도면의 통일된 스타일 (글자 크기, 줄 간격, 박스 크기)

### 21. **성공 지표**
- **한 번 완성**: 재작업 없이 단번에 완성
- **내용 일치**: 실시예와 완벽한 매칭
- **시각적 완성도**: 전문적이고 깔끔한 외관
- **기능적 완성도**: 모든 화살표가 마커 방식으로 정확
- **텍스트 배치**: 모든 텍스트가 박스 정중앙에 위치
- **규격 준수**: 특허청 표준 완전 준수

---

## 실제 작업 경험 기반 핵심 교훈

### 22. **텍스트 중앙 배치 해결법**
- **문제**: SVG에서 텍스트가 박스 아래쪽에 치우치는 현상 지속
- **해결**: 박스별 정확한 중앙 좌표 계산 + 10px씩 위로 조정
- **공식**: 텍스트 y좌표 = (박스 시작점 + 박스 끝점) / 2 - 10px
- **검증**: 완성 후 반드시 실제 렌더링 결과 확인

### 23. **글자 크기 통일 방법**
- **확정 기준**: 주요 구성부명 28px, 참조번호 28px, 설명 24px
- **적용 방법**: 모든 도면에 동일하게 적용
- **줄 간격**: 32px, 28px, 25px로 통일
- **검증**: 도면 1, 2, 3 비교해서 일치 여부 확인

### 24. **박스 크기 결정 방법**
- **최소 크기**: 300x180 (28px 글씨 4줄 기준)
- **여유 공간**: 텍스트 길이에 따라 320x200까지 확대
- **중앙 박스**: 중요도에 따라 500x220까지 확대 가능
- **검증**: 텍스트가 박스 밖으로 삐져나오지 않는지 확인

### 25. **화살표 문제 해결법**
- **문제**: 수동 polygon 방식으로 만든 화살표 오류 발생
- **해결**: SVG marker 방식으로 변경
- **템플릿**: 가이드라인의 마커 방식 템플릿 활용
- **검증**: 모든 화살표가 올바른 방향을 가리키는지 확인

### 26. **작업 효율성 개선**
- **수정 한계**: 3-4회 수정 후에도 해결 안되면 즉시 리라이트
- **리라이트 기준**: 텍스트 중앙 배치, 박스 크기, 화살표 문제 등
- **품질 우선**: 부분 수정보다는 완전한 재작성으로 품질 확보
- **시간 절약**: 계속 수정하지 말고 빠른 리라이트 결정

---

## 완성 작업 템플릿

### 27. **SVG 기본 구조**
```svg
<svg width="1200" height="800" viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- 화살표 마커 정의 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="black"/>
    </marker>
  </defs>

  <!-- 박스 예시 (300x180) -->
  <rect x="450" y="60" width="300" height="180" fill="none" stroke="black" stroke-width="2" rx="5"/>

  <!-- 텍스트 중앙 배치 (박스 중앙=150 기준) -->
  <text x="600" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold">구성부명</text>
  <text x="600" y="162" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold">(100)</text>
  <text x="600" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="24">설명 첫 줄</text>
  <text x="600" y="215" text-anchor="middle" font-family="Arial, sans-serif" font-size="24">설명 둘째 줄</text>

  <!-- SVG marker 방식 화살표 -->
  <line x1="750" y1="150" x2="850" y2="150" stroke="black" stroke-width="2" marker-end="url(#arrowhead)"/>
</svg>
```

---

## 최종 원칙

**SVG marker 방식으로 화살표 문제 완전 해결 + 28px 통일 글자 크기 + 32px/28px/25px 통일 줄 간격 + 300x180 이상 박스 크기 + 정확한 중앙 배치 계산으로 단 한 번에 완성하기**

**핵심**: 텍스트 중앙 배치 실패 시 즉시 리라이트, 부분 수정에 시간 낭비하지 말 것!
